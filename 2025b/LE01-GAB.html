<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lista de Exercícios 01 - Gabarito</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <script src="mathjax/es5/tex-mml-chtml.js"
  type="text/javascript"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lista de Exercícios 01 - Gabarito</h1>
</header>
<meta charset="utf-8">
<style id="solucao-style">
details.solucao {
  color: #000;
  background: #fff4f4;
  border-left: 4px solid #e57373;
  padding: 0.5rem 1rem 0.75rem 1rem;
  margin: 1rem 0;
}
details.solucao summary {
  cursor: pointer;
  font-weight: 600;
  list-style: none;
}
details.solucao summary::-webkit-details-marker { display: none; }
details.solucao summary::before {
  content: '▶';
  display: inline-block;
  margin-right: .5rem;
  transform: translateY(-1px);
}
details.solucao[open] summary::before {
  content: '▼';
}
@media print {
  details.solucao summary { color: #000; }
}
</style>
<div id="solucao-controls" style="margin: 1rem 0;">
<p><button type="button" id="toggle-all-solutions" style="padding: .4rem .8rem; font-size: .9rem;">
Mostrar todas as SOLUÇÕES </button></p>
</div>
<script id="solucao-toggle-script">
(function(){
  const btnText = { show: 'Mostrar todas as SOLUÇÕES', hide: 'Ocultar todas as SOLUÇÕES' };
  function setAll(open) {
    document.querySelectorAll('details.solucao').forEach(d => { if (open) d.setAttribute('open',''); else d.removeAttribute('open'); });
  }
  function anyClosed(){
    return Array.from(document.querySelectorAll('details.solucao')).some(d => !d.hasAttribute('open'));
  }
  function updateButton(btn){ btn.textContent = anyClosed() ? btnText.show : btnText.hide; }
  function init(){
    const btn=document.getElementById('toggle-all-solutions');
    if(!btn) return;
    btn.addEventListener('click', ()=>{ const open=anyClosed(); setAll(open); updateButton(btn); });
    updateButton(btn);
  }
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init); else init();
})();
</script>
<h1 id="lista-de-exercícios-01---ia-2025.2">Lista de Exercícios 01 - IA
2025.2</h1>
<h2 id="questões-1-à-8-busca-global-e-busca-local">Questões 1 à 8: Busca
Global e Busca Local</h2>
<h3 id="questão-1">Questão 1</h3>
<p>Dê uma formulação completa como um problema de busca em espaço de
estados para cada um dos seguintes casos descritos.</p>
<ol type="1">
<li>Usando apenas quatro cores, você tem que colorir um mapa planar de
forma que nenhuma região adjacente tenha a mesma cor.</li>
<li>Um macaco de 90cm de altura está em uma sala onde algumas bananas
estão suspensas do teto de 2,4m. Ele gostaria de pegar as bananas. A
sala contém dois caixotes de 90cm de altura, empilháveis, móveis e
escaláveis.</li>
<li>Você tem um programa que emite a mensagem “registro de entrada
ilegal” quando alimentado com um determinado arquivo de registros de
entrada. Você sabe que o processamento de cada registro é independente
dos outros. Você quer descobrir qual registro é ilegal.</li>
<li>Você tem três jarros, medindo 12 galões, 8 galões e 3 galões, e uma
torneira de água. Você pode encher os jarros ou esvaziá-los de um para o
outro ou no chão. Você precisa medir exatamente um galão.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><p><strong>Coloração de Mapa (CSP):</strong></p>
<ul>
<li><strong>Estado:</strong> Uma atribuição parcial de cores às regiões.
<code>{(Regiao1, Vermelho), (Regiao2, Azul), ...}</code>.</li>
<li><strong>Estado Inicial:</strong> <code>{}</code> (nenhuma região
colorida).</li>
<li><strong>Ações:</strong> <code>Colorir(Regiao_i, Cor_j)</code>.</li>
<li><strong>Restrição:</strong> A ação é válida apenas se
<code>Cor_j</code> for diferente das cores de todos os vizinhos já
coloridos de <code>Regiao_i</code>.</li>
<li><strong>Objetivo:</strong> Todos os estados estão no conjunto
<code>(Regioes_coloridas)</code> e todas as restrições são
satisfeitas.</li>
</ul></li>
<li><p><strong>Macaco e Bananas:</strong></p>
<ul>
<li><strong>Estado:</strong>
<code>(pos_macaco, pos_caixote1, pos_caixote2, macaco_no_caixote, caixotes_empilhados)</code>.
Ex: <code>(A, B, C, Nao, Nao)</code>.</li>
<li><strong>Estado Inicial:</strong> <code>(A, B, C, Nao, Nao)</code>
(todos no chão).</li>
<li><strong>Ações:</strong>
<ul>
<li><code>IrPara(X)</code>: Mover macaco para X (se no chão).</li>
<li><code>Empurrar(Caixote, X, Y)</code>: Mover caixote de X para Y (se
o macaco estiver em X).</li>
<li><code>Empilhar(Caixote1, Caixote2)</code>: (Se macaco e caixotes
estiverem juntos).</li>
<li><code>Subir(Caixote)</code>.</li>
</ul></li>
<li><strong>Objetivo:</strong> Estado onde
<code>pos_macaco == pos_bananas</code>,
<code>caixotes_empilhados == Sim</code>,
<code>macaco_no_caixote == Sim</code>. (A altura de 90cm + 90cm + 90cm
(braços) &gt; 2.4m).</li>
</ul></li>
<li><p><strong>Registro Ilegal:</strong></p>
<ul>
<li><strong>Estado:</strong> O conjunto de registros de entrada sendo
testado.</li>
<li><strong>Estado Inicial:</strong> O arquivo completo (Registros
1…N).</li>
<li><strong>Ações:</strong>
<code>Testar(subconjunto_registros)</code>.</li>
<li><strong>Modelo de Transição:</strong> Se <code>Testar(S)</code>
falha, o novo estado é <span class="math inline">\(S\)</span>. Se
<code>Testar(S)</code> passa, o novo estado é <span
class="math inline">\(EstadoAtual - S\)</span>.</li>
<li><strong>Formulação (Alternativa/Melhor):</strong> (Dividir e
Conquistar)
<ul>
<li><strong>Estado:</strong> Um intervalo <code>[inicio, fim]</code> de
registros suspeitos.</li>
<li><strong>Estado Inicial:</strong> <code>[1, N]</code>.</li>
<li><strong>Ações:</strong> <code>TestarMetade1</code> (testa
<code>[inicio, (inicio+fim)/2]</code>), <code>TestarMetade2</code>
(testa <code>[(inicio+fim)/2 + 1, fim]</code>).</li>
<li><strong>Transição:</strong> Se <code>TestarMetade1</code> falhar,
novo estado é <code>[inicio, (inicio+fim)/2]</code>. Se passar, novo
estado é <code>[(inicio+fim)/2 + 1, fim]</code>.</li>
</ul></li>
<li><strong>Objetivo:</strong> Estado <code>[k, k]</code>.</li>
</ul></li>
<li><p><strong>Jarras de Água:</strong></p>
<ul>
<li><strong>Estado:</strong> <code>(j12, j8, j3)</code> (litros em cada
jarro).</li>
<li><strong>Estado Inicial:</strong> <code>(0, 0, 0)</code>.</li>
<li><strong>Ações:</strong>
<ul>
<li><code>Encher(Jarro_i)</code>: (Jarro_i = Capacidade_i).</li>
<li><code>Esvaziar(Jarro_i)</code>: (Jarro_i = 0).</li>
<li><code>Despejar(Jarro_i, Jarro_j)</code>: Despeja de i para j até i
ficar vazio ou j ficar cheio.</li>
</ul></li>
<li><strong>Objetivo:</strong> Qualquer estado da forma
<code>(1, x, y)</code> ou <code>(x, 1, y)</code> ou
<code>(x, y, 1)</code>.</li>
</ul></li>
</ol>
</details>
<h3 id="questão-2">Questão 2</h3>
<p>Quais das seguintes são verdadeiras e quais são falsas? Explique suas
respostas.</p>
<ol type="1">
<li>A busca em profundidade sempre expande pelo menos tantos nós quanto
a busca A* com uma heurística admissível.</li>
<li><span class="math inline">\(h(n)=0\)</span> é uma heurística
admissível para o 8-puzzle.</li>
<li>A* é inútil em robótica porque percepções, estados e ações são
contínuos.</li>
<li>A busca em largura é completa mesmo se custos de passo zero são
permitidos.</li>
<li>Assuma que uma torre (rook) pode mover (…) qualquer número de
quadrados (…). A distância de Manhattan é uma heurística admissível para
mover a torre de A para B no menor número de movimentos.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Falso.</strong> A* é guiado pela heurística. A Busca em
Profundidade (DFS) é cega. A DFS pode mergulhar em um ramo muito longo e
incorreto do espaço de estados, expandindo muito mais nós do que A*, que
iria diretamente para o objetivo.</li>
<li><strong>Verdadeiro.</strong> Uma heurística é admissível se <span
class="math inline">\(h(n) \le h^*(n)\)</span> (nunca superestima o
custo real). Como <span class="math inline">\(h^*(n)\)</span> (o número
real de movimentos) é sempre <span class="math inline">\(\ge 0\)</span>,
a heurística <span class="math inline">\(h(n)=0\)</span> é sempre
admissível. (Ela transforma A* em Busca de Custo Uniforme).</li>
<li><strong>Falso.</strong> O espaço de estados contínuo pode ser (e
frequentemente é) <strong>discretizado</strong> (ex: usando grades de
ocupação, waypoints) para que A* (ou variantes como D*) possa ser usado
para o planejamento de caminho.</li>
<li><strong>Verdadeiro.</strong> A completude da BFS (garantia de
encontrar uma solução se ela existir) depende apenas do fator de
ramificação ser finito. Custos de passo (zero ou não) não afetam a
completude. (Eles afetam a <em>otimalidade</em> - BFS só é ótimo se os
custos forem uniformes).</li>
<li><strong>Falso.</strong> A distância de Manhattan <span
class="math inline">\(h = |x_1 - x_2| + |y_1 - y_2|\)</span>
<strong>não</strong> é admissível.
<ul>
<li><strong>Contra-exemplo:</strong> Mover de (0,0) para (5,5).</li>
<li>Custo Real (<span class="math inline">\(h^*\)</span>): 2 movimentos
(Mover para (0,5), depois para (5,5)).</li>
<li>Heurística (Manhattan): <span class="math inline">\(|0-5| + |0-5| =
10\)</span>.</li>
<li>A heurística (10) superestima o custo real (2).</li>
<li>(Uma heurística admissível seria: 0 se A=B; 1 se <span
class="math inline">\(x_1 \neq x_2\)</span> OU <span
class="math inline">\(y_1 \neq y_2\)</span>; 2 se <span
class="math inline">\(x_1 \neq x_2\)</span> E <span
class="math inline">\(y_1 \neq y_2\)</span>).</li>
</ul></li>
</ol>
</details>
<h3 id="questão-3">Questão 3</h3>
<p>Prove seguinte afirmação (ou dê um contra-exemplo): “A Busca de Custo
Uniforme - UCS (Dijkstra para um objetivo específico) é um caso especial
da busca A*”.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<strong>Verdadeiro.</strong> A* expande nós com base em <span
class="math inline">\(f(n) = g(n) + h(n)\)</span>. A Busca de Custo
Uniforme - UCS expande com base em <span class="math inline">\(f(n) =
g(n)\)</span>. A UCS é, portanto, A* com a heurística <span
class="math inline">\(h(n) = 0\)</span>. (Como <span
class="math inline">\(h(n)=0\)</span> é admissível, isso também mostra
por que a UCS é ótima).
</details>
<h3 id="questão-4">Questão 4</h3>
<p>Considere a versão ilimitada da grade 2D regular abaixo. O estado
inicial é o centro da figura (0,0), e o objetivo é <span
class="math inline">\((x,y)\)</span>.</p>
<figure>
<img src="figures/bg32.png" alt="Figura bg32" style="max-width: 100%; width: 40%; height: auto;" />
</figure>
<ol type="1">
<li>Qual é o fator de ramificação <span class="math inline">\(b\)</span>
neste espaço de estados?</li>
<li>Quantos estados distintos existem na profundidade <span
class="math inline">\(k\)</span> (para <span
class="math inline">\(k&gt;0\)</span>)?</li>
<li>Qual é o número máximo de nós expandidos pela busca em árvore
BFS?</li>
<li>Qual é o número máximo de nós expandidos pela busca por grafo
BFS?</li>
<li><span class="math inline">\(h = |u-x| + |v-y|\)</span> é uma
heurística admissível para um estado em <span
class="math inline">\((u,v)\)</span>? Explique.</li>
<li>Quantos nós são expandidos pelo A* (grafo) usando <span
class="math inline">\(h\)</span>?</li>
<li><span class="math inline">\(h\)</span> permanece admissível se
alguns links forem removidos?</li>
<li><span class="math inline">\(h\)</span> permanece admissível se
alguns links forem adicionados (atalhos)?</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Fator de Ramificação (b):</strong> 4 (Norte, Sul, Leste,
Oeste).</li>
<li><strong>Estados na Profundidade <span
class="math inline">\(k\)</span>:</strong> <span class="math inline">\(4
+ 4 + 8 + 12 + \dots\)</span>. O número de estados a uma distância <span
class="math inline">\(k\)</span> (Manhattan) é <span
class="math inline">\(4k\)</span>. O número de estados <em>na</em>
profundidade <span class="math inline">\(k\)</span> (em uma árvore) é
<span class="math inline">\(4^k\)</span>. Em uma grade (grafo), é <span
class="math inline">\(O(k^2)\)</span>.</li>
<li><strong>BFS (Árvore):</strong> <span class="math inline">\(1 + b +
b^2 + \dots + b^d\)</span>. Se o objetivo <span
class="math inline">\((x,y)\)</span> estiver na profundidade <span
class="math inline">\(d = |x|+|y|\)</span>, a BFS pode ter que explorar
até <span class="math inline">\(d+1\)</span>. <span
class="math inline">\(O(b^{d+1}) = O(4^{|x|+|y|+1})\)</span>.</li>
<li><strong>BFS (Grafo):</strong> <span
class="math inline">\(O(d^2)\)</span>. A BFS (grafo) em uma grade
explora um “diamante” de nós. O número de nós no diamante de raio <span
class="math inline">\(d\)</span> é <span
class="math inline">\(O(d^2)\)</span>.</li>
<li><strong>h (Manhattan) é Admissível?</strong> Sim. A Distância de
Manhattan <span class="math inline">\(h = |u-x| + |v-y|\)</span> é o
custo <em>exato</em> do caminho mais curto em uma grade onde você só
pode mover N, S, L, O e não há obstáculos. O custo real (<span
class="math inline">\(h^*\)</span>) é, portanto, igual a <span
class="math inline">\(h\)</span>. Como <span class="math inline">\(h \le
h^*\)</span>, ela é admissível.</li>
<li><strong>Nós Expandidos (A* com <span
class="math inline">\(h\)</span>):</strong> A* com <span
class="math inline">\(h=h^*\)</span> é perfeitamente informado. Ele
expandirá <em>apenas</em> os nós no caminho ótimo. Se houver múltiplos
caminhos ótimos (ex: de (0,0) para (2,2)), ele pode expandir alguns nós
fora do caminho, mas o número de nós é <span
class="math inline">\(O(d)\)</span> (linear), não <span
class="math inline">\(O(d^2)\)</span> (BFS) ou <span
class="math inline">\(O(b^d)\)</span> (DFS).</li>
<li><strong>Links Removidos (Obstáculos):</strong> Sim. Remover um link
(criar um obstáculo) só pode <em>aumentar</em> o custo real (<span
class="math inline">\(h^*\)</span>). A heurística <span
class="math inline">\(h\)</span> (Manhattan, que ignora obstáculos)
ainda será <span class="math inline">\(h \le h^*\)</span>. (Ex: <span
class="math inline">\(h=5\)</span>, mas <span
class="math inline">\(h^*\)</span> agora é 7 por causa do desvio. <span
class="math inline">\(5 \le 7\)</span>. Admissível).</li>
<li><strong>Links Adicionados (Atalhos):</strong> Não. Adicionar um link
diagonal (atalho) pode <em>diminuir</em> o custo real (<span
class="math inline">\(h^*\)</span>).
<ul>
<li>Ex: De (0,0) para (1,1).</li>
<li><span class="math inline">\(h\)</span> (Manhattan) = <span
class="math inline">\(|0-1| + |0-1| = 2\)</span>.</li>
<li><span class="math inline">\(h^*\)</span> (com atalho diagonal) =
1.</li>
<li>A heurística (<span class="math inline">\(h=2\)</span>) superestima
o custo real (<span class="math inline">\(h^*=1\)</span>). <strong>Não é
admissível.</strong></li>
</ul></li>
</ol>
</details>
<h3 id="questão-5">Questão 5</h3>
<p>Prove que se uma heurística é consistente, ela deve ser admissível.
Construa uma heurística admissível que não é consistente.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ul>
<li><p><strong>Prova (Consistente <span
class="math inline">\(\rightarrow\)</span> Admissível):</strong> (Prova
por indução no comprimento do caminho)</p>
<ul>
<li><strong>Definição (Consistência):</strong> <span
class="math inline">\(h(n) \le c(n, a, n&#39;) + h(n&#39;)\)</span> para
todo <span class="math inline">\(n, a, n&#39;\)</span>. (Também
conhecida como desigualdade do triângulo).</li>
<li><strong>Base:</strong> Seja o nó objetivo <span
class="math inline">\(G\)</span>. <span class="math inline">\(h(G) =
0\)</span>. (Isto deve ser verdadeiro).</li>
<li><strong>Passo Indutivo:</strong> Assuma que <span
class="math inline">\(h(n&#39;)\)</span> é admissível (<span
class="math inline">\(h(n&#39;) \le h^*(n&#39;)\)</span>).</li>
<li>Considere um nó <span class="math inline">\(n\)</span> e seu
sucessor <span class="math inline">\(n&#39;\)</span> no caminho
<em>ótimo</em> para o objetivo.</li>
<li>O custo ótimo de <span class="math inline">\(n\)</span> é <span
class="math inline">\(h^*(n) = c(n, a, n&#39;) +
h^*(n&#39;)\)</span>.</li>
<li>Da consistência: <span class="math inline">\(h(n) \le c(n, a,
n&#39;) + h(n&#39;)\)</span>.</li>
<li>Usando a premissa da indução (<span class="math inline">\(h(n&#39;)
\le h^*(n&#39;)\)</span>):</li>
<li><span class="math inline">\(h(n) \le c(n, a, n&#39;) +
h^*(n&#39;)\)</span>.</li>
<li>Como <span class="math inline">\(n&#39;\)</span> está no caminho
ótimo de <span class="math inline">\(n\)</span>, <span
class="math inline">\(c(n, a, n&#39;) + h^*(n&#39;) =
h^*(n)\)</span>.</li>
<li>Portanto, <strong><span class="math inline">\(h(n) \le
h^*(n)\)</span></strong>. A heurística é admissível.</li>
</ul></li>
<li><p><strong>Construção (Admissível, mas Inconsistente):</strong></p>
<ul>
<li><strong>Estados:</strong> A (Início), B, G (Objetivo).</li>
<li><strong>Custos:</strong> A <span
class="math inline">\(\rightarrow\)</span> B (Custo 1). B <span
class="math inline">\(\rightarrow\)</span> G (Custo 5). A <span
class="math inline">\(\rightarrow\)</span> G (Custo 10).</li>
<li><strong>Custos Reais (Ótimos):</strong> <span
class="math inline">\(h^*(A) = 6\)</span> (via B). <span
class="math inline">\(h^*(B) = 5\)</span>. <span
class="math inline">\(h^*(G) = 0\)</span>.</li>
<li><strong>Heurística:</strong>
<ul>
<li><span class="math inline">\(h(G) = 0\)</span></li>
<li><span class="math inline">\(h(B) = 1\)</span></li>
<li><span class="math inline">\(h(A) = 6\)</span></li>
</ul></li>
<li><strong>É Admissível?</strong>
<ul>
<li><span class="math inline">\(h(A)=6 \le h^*(A)=6\)</span> (Sim).</li>
<li><span class="math inline">\(h(B)=1 \le h^*(B)=5\)</span> (Sim).</li>
<li><span class="math inline">\(h(G)=0 \le h^*(G)=0\)</span> (Sim).</li>
<li><strong>Sim, é admissível.</strong></li>
</ul></li>
<li><strong>É Consistente?</strong> (Checar <span
class="math inline">\(h(n) \le c(n, a, n&#39;) + h(n&#39;)\)</span>)
<ul>
<li>Checar A <span class="math inline">\(\rightarrow\)</span> B:</li>
<li><span class="math inline">\(h(A) \le c(A, B) + h(B)\)</span> ?</li>
<li><span class="math inline">\(6 \le 1 + 1\)</span> ?</li>
<li><span class="math inline">\(6 \le 2\)</span> ?
<strong>Falso.</strong></li>
<li><strong>Não, é inconsistente.</strong></li>
</ul></li>
</ul></li>
</ul>
</details>
<h3 id="questão-6">Questão 6</h3>
<p>A versão “relaxada” do problema do quebra-cabeça de 8 peças onde um
bloco pode mover de um espaço A para um espaço B se B estiver vazio
define a <strong>heurística de Gaschnig</strong>. Explique por que essa
heurística é pelo menos tão precisa quanto <span
class="math inline">\(h_1\)</span> (peças fora do lugar) e mostre casos
onde ela é mais precisa que <span class="math inline">\(h_1\)</span> e
<span class="math inline">\(h_2\)</span> (Manhattan).</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ul>
<li><strong>Definições:</strong>
<ul>
<li><span class="math inline">\(h_1\)</span> (Fora do Lugar): Conta
quantas peças não estão em seu local objetivo (ignora o espaço).</li>
<li><span class="math inline">\(h_2\)</span> (Manhattan): Soma das
distâncias de Manhattan de cada peça ao seu local objetivo.</li>
<li><span class="math inline">\(h_{Gaschnig}\)</span> (<span
class="math inline">\(h_G\)</span>): O número de movimentos
<em>reais</em> necessários no problema relaxado (onde qualquer peça pode
se mover para o espaço). Isso é <span class="math inline">\(h^*\)</span>
(o ótimo) para o problema relaxado.</li>
</ul></li>
<li><strong><span class="math inline">\(h_G \ge h_1\)</span>:</strong>
<span class="math inline">\(h_1\)</span> (fora do lugar) é um limite
inferior para <span class="math inline">\(h_G\)</span>. Se <span
class="math inline">\(k\)</span> peças estão fora do lugar, você
precisará de <em>pelo menos</em> <span class="math inline">\(k\)</span>
movimentos (um para cada peça) para colocá-las no lugar, mesmo no jogo
relaxado. (Na verdade, <span class="math inline">\(k+1\)</span>
movimentos podem ser necessários se o espaço estiver no lugar errado).
<span class="math inline">\(h_G\)</span> é a contagem <em>exata</em> de
movimentos no jogo relaxado, que é <span class="math inline">\(\ge
k\)</span>.</li>
<li><strong>Mais Precisa (<span class="math inline">\(h_G &gt;
h_2\)</span> e <span class="math inline">\(h_G &gt;
h_1\)</span>):</strong>
<ul>
<li><p>Considere um estado onde <span class="math inline">\(h_2\)</span>
(Manhattan) é baixo, mas as peças “bloqueiam” umas às outras, exigindo
muitos movimentos de “troca” com o espaço.</p></li>
<li><p><strong>Exemplo:</strong></p>
<pre><code>1 2 3
4 8 5  &lt;- (Objetivo: 123, 456, 78 )
7 6</code></pre></li>
<li><p><span class="math inline">\(h_1\)</span>: 3 (peças 8, 5, 6 estão
fora do lugar).</p></li>
<li><p><span class="math inline">\(h_2\)</span>: (8: 1), (5: 1), (6: 1).
<span class="math inline">\(h_2 = 3\)</span>.</p></li>
<li><p><span class="math inline">\(h_G\)</span>: Para resolver isso, o
espaço tem que se mover, trocar com 5, mover, trocar com 6, mover,
trocar com 8. O número de trocas necessárias é <em>maior</em> que 3. O
<span class="math inline">\(h_G\)</span> calcula o “ciclo” de trocas e
dá uma contagem maior e mais precisa. <span
class="math inline">\(h_G\)</span> captura o custo de “permutar” peças
que estão nos lugares umas das outras.</p></li>
</ul></li>
</ul>
</details>
<h3 id="questão-7">Questão 7</h3>
<p>Dê o nome do algoritmo que resulta de cada um dos seguintes casos
especiais:</p>
<ol type="1">
<li>Busca “Local Beam Search” (Busca em Feixe Local) com <span
class="math inline">\(k = 1\)</span>.</li>
<li>“Simulated Annealing” (Têmpera Simulada) com <span
class="math inline">\(T = 0\)</span> em todos os momentos (e omitindo o
teste de término).</li>
<li>“Simulated Annealing” com <span
class="math inline">\(T=\infty\)</span> (infinito) em todos os
momentos.</li>
<li>Algoritmo Genético com tamanho de população <span
class="math inline">\(N = 1\)</span>.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Hill Climbing (Subida de Encosta):</strong> Com <span
class="math inline">\(k=1\)</span>, a Busca em Feixe Local mantém apenas
o <em>melhor</em> estado sucessor e descarta todos os outros. Isso é
exatamente a definição de “steepest-ascent hill climbing”.</li>
<li><strong>Hill Climbing (Subida de Encosta):</strong> Com <span
class="math inline">\(T=0\)</span>, a probabilidade de aceitar um
movimento “pior” ( <span class="math inline">\(\Delta E &lt; 0\)</span>
) é <span class="math inline">\(e^{\Delta E / T} \rightarrow e^{-\infty}
= 0\)</span>. O algoritmo <em>nunca</em> aceita movimentos piores,
apenas movimentos que melhoram (ou mantêm) o estado. Isso é
“steepest-ascent hill climbing”.</li>
<li><strong>Random Walk (Passeio Aleatório):</strong> Com <span
class="math inline">\(T=\infty\)</span>, o expoente <span
class="math inline">\(\Delta E / T\)</span> se torna 0. A probabilidade
de aceitação é <span class="math inline">\(e^0 = 1\)</span>. O algoritmo
aceita <em>qualquer</em> movimento, seja ele bom ou ruim, com
probabilidade 1. Ele apenas passeia aleatoriamente pelo espaço de
estados.</li>
<li><strong>Random Walk (Passeio Aleatório):</strong> Com <span
class="math inline">\(N=1\)</span>, o algoritmo mantém um único
indivíduo. A “reprodução” envolve “crossover” (com ele mesmo, ineficaz)
e “mutação”. Isso é análogo a um passeio aleatório, mais uma vez.</li>
</ol>
</details>
<h3 id="questão-8">Questão 8</h3>
<p>Neste exercício, examinamos “Hill Climbing” (Subida de Encosta) no
contexto de navegação de robôs, usando o ambiente da figura abaixo.</p>
<figure>
<img src="figures/bl15.svg" alt="Figura bl15" style="max-width: 100%; width: 40%; height: auto;" />
</figure>
<p>A percepção do robô será uma lista das posições dos vértices visíveis
de cada obstáculo. Cada ação será um vetor que descreve um caminho em
linha reta a ser percorrido.</p>
<ol type="1">
<li>O robô pode ficar preso em um mínimo local?</li>
<li>É <em>possível</em> que ele fique preso com obstáculos convexos de
uma maneira geral (analise independentemente da figura em questão)?</li>
<li>Construa um ambiente poligonal não-convexo em que o agente fique
preso.</li>
<li>Modifique o algoritmo Hill Climbing para que, em vez de fazer uma
busca de profundidade-1 para decidir onde ir a seguir, ele faça uma
busca de profundidade-<span class="math inline">\(k\)</span>. Ele deve
encontrar o melhor caminho de <span
class="math inline">\(k\)</span>-passos e dar um passo ao longo dele, e
então repetir o processo.</li>
<li>Existe algum <span class="math inline">\(k\)</span> para o qual o
novo algoritmo garante escapar de mínimos locais em um cenário com
obstáculos convexos?</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li>Para os obstáculos dessa figura específica, não. A “paisagem” de
custo (distância em linha reta) também é convexa. O robô sempre pode se
mover “ao redor” do obstáculo em direção ao objetivo, e a heurística
<span class="math inline">\(h(n)\)</span> diminuirá monotonicamente. Não
existem mínimos locais (exceto o próprio objetivo).</li>
<li>É possível, mas improvável. O obstáculo precisa ter uma forma
incomum e estar posicionado de forma bem específica em relação ao
objetivo (veja figura abaixo).
<figure>
<img src="figures/bl15b.png" alt="Figura bl15b" style="max-width: 100%; width: 20%; height: auto;" />
</figure></li>
<li>Com um obstáculo em forma de <strong>“V”</strong>, ao chegar no
centro, qualquer movimento do robô (para os vértices laterais)
<em>aumenta</em> a Distância em Linha Reta (<span
class="math inline">\(h(n)\)</span>) (ver figura). O Hill Climbing fica
preso, pois se recusa a fazer um movimento que “piora” <span
class="math inline">\(h(n)\)</span>.
<figure>
<img src="figures/bl15c.png" alt="Figura bl15b" style="max-width: 100%; width: 30%; height: auto;" />
</figure></li>
<li>O robô não olha apenas os vizinhos (<span
class="math inline">\(k=1\)</span>), mas faz uma busca (ex: BFS) de
profundidade <span class="math inline">\(k\)</span>. Ele encontra o
<em>melhor caminho</em> de <span class="math inline">\(k\)</span> passos
(ex: <code>Cima, Cima, Esquerda</code>), executa o <em>primeiro
passo</em> (<code>Cima</code>), e depois joga o resto do plano fora e
recalcula.</li>
<li>Sim, se for possível estabeler <span class="math inline">\(k
\geq\)</span> “número de vértices do obstáculo com mais vértices”. Caso
contrário, não.</li>
</ol>
</details>
<h2
id="questões-9-à-15-representação-do-conhecimento-preciso-e-raciocínio-simbólico">Questões
9 à 15: Representação do Conhecimento Preciso e Raciocínio
Simbólico</h2>
<h3 id="questão-9">Questão 9</h3>
<p>A Equação <span class="math inline">\(\forall s \text{Breezy}(s)
\Leftrightarrow \exists r \text{ Adjacent}(r,s) \land
\text{Pit}(r)\)</span> define as condições sob as quais um
estado/posição tem brisa (ver sobre o Mundo do Wumpus no livro-texto,
Cap 7 e Cap 8). Aqui consideramos duas outras maneiras de descrever este
aspecto do mundo Wumpus.</p>
<ol type="1">
<li>Podemos escrever <strong>regras de diagnóstico</strong> que levam de
efeitos observados a causas ocultas. Para encontrar poços (pits), as
regras de diagnóstico óbvias dizem que, se um estado/posição está
ventoso (breezy), alguma posição adjacente deve conter um poço; e se uma
posição não está ventosa, então nenhuma posição adjacente contém um
poço. Escreva essas duas regras em lógica de primeira ordem e mostre que
a conjunção delas é logicamente equivalente à Equação acima.</li>
<li>Podemos escrever <strong>regras causais</strong> que levam de causa
a efeito. Uma regra causal óbvia é que um poço causa ventos em todas as
posições adjacentes. Escreva essa regra em lógica de primeira ordem,
explique por que ela é incompleta em comparação com a Equação acima e
forneça o axioma que falta.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p>Seja <span class="math inline">\(B(s) \equiv Breezy(s)\)</span> e
<span class="math inline">\(P(s) \equiv \exists r \;\; (Adjacent(r,s)
\land Pit(r))\)</span> (“Há um poço adjacente a s”). A Equação anterior
é então: <span class="math inline">\(\forall s \;\; B(s) \iff
P(s)\)</span>.</p>
<ol type="1">
<li><p><strong>Regras de Diagnóstico (Efeito <span
class="math inline">\(\rightarrow\)</span> Causa):</strong></p>
<ul>
<li>R1 (Brisa <span class="math inline">\(\implies\)</span> Poço): <span
class="math inline">\(\forall s \;\; B(s) \implies P(s)\)</span>.</li>
<li>R2 (Sem Brisa <span class="math inline">\(\implies\)</span> Sem
Poço): <span class="math inline">\(\forall s \;\; \lnot B(s) \implies
\lnot P(s)\)</span>.</li>
<li><strong>Prova de Equivalência:</strong> R2 é logicamente equivalente
à sua contrapositiva: <span class="math inline">\(\forall s \;\; P(s)
\implies B(s)\)</span>.</li>
<li>A conjunção de R1 e R2 (modificada) é: <span
class="math inline">\((\forall s \;\; B(s) \implies P(s)) \land (\forall
s \;\; P(s) \implies B(s))\)</span>.</li>
<li>Isso é logicamente equivalente a: <span
class="math inline">\(\forall s \;\; (B(s) \implies P(s)) \land (P(s)
\implies B(s))\)</span>.</li>
<li>Que é, por definição, a equivalência bicondicional: <span
class="math inline">\(\forall s \;\; B(s) \iff P(s)\)</span>.</li>
</ul></li>
<li><p><strong>Regra Causal (Causa <span
class="math inline">\(\rightarrow\)</span> Efeito):</strong></p>
<ul>
<li><strong>Regra:</strong> <span class="math inline">\(\forall r \;\;
Pit(r) \implies (\forall s \;\; Adjacent(r,s) \implies
Breezy(s))\)</span>.</li>
<li><strong>Por que é Incompleta:</strong> Esta regra (que é equivalente
a <span class="math inline">\(P(s) \implies B(s)\)</span>) nos diz o que
acontece <em>se</em> houver um poço. Ela não diz nada sobre o que
acontece se <em>não</em> houver um poço. Ela não proíbe que a brisa
exista sem um poço (talvez o Wumpus cause brisas?).</li>
<li><strong>Axioma Faltante:</strong> Precisamos de um axioma de
“fechamento” que afirme que os poços são a <em>única</em> causa da
brisa. A forma mais simples é a regra diagnóstica R1 da parte anterior:
<span class="math display">\[\forall s \;\; Breezy(s) \implies (\exists
r \;\; Adjacent(r,s) \land Pit(r))\]</span></li>
</ul></li>
</ol>
</details>
<h3 id="questão-10">Questão 10</h3>
<p>Escreva axiomas descrevendo os predicados <span
class="math inline">\({Grandchild}\)</span>, <span
class="math inline">\({Greatgrandparent}\)</span>, <span
class="math inline">\({Ancestor}\)</span>, <span
class="math inline">\({Brother}\)</span>, <span
class="math inline">\({Sister}\)</span>, <span
class="math inline">\({Daughter}\)</span>, <span
class="math inline">\({Son}\)</span>, <span
class="math inline">\({FirstCousin}\)</span>, <span
class="math inline">\({BrotherInLaw}\)</span>, <span
class="math inline">\({SisterInLaw}\)</span>, <span
class="math inline">\({Aunt}\)</span>, e <span
class="math inline">\({Uncle}\)</span> em LPO. Agora escreva os fatos
básicos descritos na árvore genealógica da figura abaixo. Usando um
sistema de raciocínio lógico adequado, descubra quem são os netos de
Elizabeth, os cunhados de Diana, os bisavós de Zara e os ancestrais de
Eugenie.</p>
<figure>
&lt;img src=“figures/rs17.svg” alt=“family1-figure” id=“family1-figure”
style=“width:70%”&gt; &lt;figcaption&gt;
<center>
<br>Uma árvore genealógica típica. O símbolo ⋈ conecta cônjuges e setas
apontam para os filhos.
</center>
</figcaption>
</figure>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p><em>(Este é um exercício de engenharia de conhecimento. Abaixo estão
as definições dos predicados e os resultados esperados da
consulta.)</em></p>
<ul>
<li><p><strong>Predicados Primitivos (do grafo):</strong> <span
class="math inline">\(Parent(p, c)\)</span>, <span
class="math inline">\(Male(p)\)</span>, <span
class="math inline">\(Female(p)\)</span>, <span
class="math inline">\(Spouse(p1, p2)\)</span>.</p></li>
<li><p><strong>Axiomas (Definições):</strong></p>
<ul>
<li><span class="math inline">\(Sibling(x,y) \iff x \neq y \land \exists
p \;\; (Parent(p,x) \land Parent(p,y))\)</span></li>
<li><span class="math inline">\(Grandchild(c, gp) \iff \exists p \;\;
(Parent(gp, p) \land Parent(p, c))\)</span></li>
<li><span class="math inline">\(Greatgrandparent(ggp, c) \iff \exists p,
gp \;\; (Parent(ggp, gp) \land Parent(gp, p) \land Parent(p,
c))\)</span></li>
<li><span class="math inline">\(Ancestor(a, d) \iff Parent(a,d) \lor
(\exists p \;\; Parent(a,p) \land Ancestor(p,d))\)</span></li>
<li><span class="math inline">\(Brother(b, p) \iff Male(b) \land
Sibling(b,p)\)</span></li>
<li><span class="math inline">\(Daughter(d, p) \iff Female(d) \land
Parent(p,d)\)</span></li>
<li><span class="math inline">\(Son(s, p) \iff Male(s) \land
Parent(p,s)\)</span></li>
<li><span class="math inline">\(FirstCousin(c1, c2) \iff \exists p1, p2
\;\; (Parent(p1, c1) \land Parent(p2, c2) \land Sibling(p1,
p2))\)</span></li>
<li><span class="math inline">\(Aunt(a, p) \iff Female(a) \land
(Sibling(a, Parent(p)) \lor \exists u \;\; (Sibling(u, Parent(p)) \land
Spouse(a,u)))\)</span></li>
<li><span class="math inline">\(BrotherInLaw(b, p) \iff Male(b) \land
(Sibling(b, Spouse(p)) \lor \exists s \;\; (Spouse(b,s) \land
Sibling(s,p)))\)</span></li>
</ul></li>
<li><p><strong>Fatos (Amostra da Figura)</strong></p>
<ul>
<li><span class="math inline">\(Parent(Elizabeth, Charles)\)</span>,
<span class="math inline">\(Parent(Philip, Charles)\)</span>, <span
class="math inline">\(Parent(Elizabeth, Anne)\)</span>, …</li>
<li><span class="math inline">\(Parent(Charles, William)\)</span>, <span
class="math inline">\(Parent(Diana, William)\)</span>, …</li>
<li><span class="math inline">\(Spouse(Elizabeth, Philip)\)</span>,
<span class="math inline">\(Spouse(Charles, Diana)\)</span>, <span
class="math inline">\(Spouse(Anne, Mark)\)</span>, …</li>
<li><span class="math inline">\(Male(Philip)\)</span>, <span
class="math inline">\(Male(Charles)\)</span>, <span
class="math inline">\(Male(William)\)</span>, …</li>
<li><span class="math inline">\(Female(Elizabeth)\)</span>, <span
class="math inline">\(Female(Diana)\)</span>, <span
class="math inline">\(Female(Anne)\)</span>, <span
class="math inline">\(Female(Zara)\)</span>, …</li>
</ul></li>
</ul>
<p><strong>Respostas às Consultas (com base nos fatos):</strong></p>
<p><strong>1. Quem são os netos de Elizabeth?</strong><br />
* <strong>Consulta LPO:</strong> <span class="math inline">\(? \;\;
Grandchild(x, Elizabeth)\)</span></p>
<p><strong>Rastreio (Backward-Chaining)</strong></p>
<ol type="1">
<li><strong>Goal 1:</strong> <span class="math inline">\(Grandchild(x,
Elizabeth)\)</span></li>
<li>Unifica com a cabeça do axioma: <span
class="math inline">\(Grandchild(c, gp) \iff \exists p \;\; (Parent(gp,
p) \land Parent(p, c))\)</span>.
<ul>
<li>Substituição (MGU): <span class="math inline">\(\{c/x,
gp/Elizabeth\}\)</span></li>
</ul></li>
<li><strong>Novo Goal (Corpo do Axioma):</strong> <span
class="math inline">\(\exists p \;\; (Parent(Elizabeth, p) \land
Parent(p, x))\)</span></li>
<li>O sistema tenta satisfazer a primeira parte: <span
class="math inline">\(Parent(Elizabeth, p)\)</span>.
<ul>
<li>Busca Fatos…</li>
<li><strong>Solução 1 para <span
class="math inline">\(p\)</span>:</strong> <span
class="math inline">\(\{p/Charles\}\)</span></li>
<li><strong>Solução 2 para <span
class="math inline">\(p\)</span>:</strong> <span
class="math inline">\(\{p/Anne\}\)</span></li>
<li><strong>Solução 3 para <span
class="math inline">\(p\)</span>:</strong> <span
class="math inline">\(\{p/Andrew\}\)</span></li>
<li><strong>Solução 4 para <span
class="math inline">\(p\)</span>:</strong> <span
class="math inline">\(\{p/Edward\}\)</span></li>
</ul></li>
<li>O sistema explora a <strong>Solução 1 (<span
class="math inline">\(p=Charles\)</span>)</strong> e tenta satisfazer a
segunda parte: <span class="math inline">\(Parent(Charles, x)\)</span>.
<ul>
<li>Busca Fatos…</li>
<li>Fato: <span class="math inline">\(Parent(Charles, William)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 1: <span
class="math inline">\(\{x/William\}\)</span></strong></li>
<li>Fato: <span class="math inline">\(Parent(Charles, Harry)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 2: <span
class="math inline">\(\{x/Harry\}\)</span></strong></li>
</ul></li>
<li>O sistema explora a <strong>Solução 2 (<span
class="math inline">\(p=Anne\)</span>)</strong> e tenta satisfazer:
<span class="math inline">\(Parent(Anne, x)\)</span>.
<ul>
<li>Busca Fatos…</li>
<li>Fato: <span class="math inline">\(Parent(Anne, Peter)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 3: <span
class="math inline">\(\{x/Peter\}\)</span></strong></li>
<li>Fato: <span class="math inline">\(Parent(Anne, Zara)\)</span>. <span
class="math inline">\(\implies\)</span> <strong>Resultado 4: <span
class="math inline">\(\{x/Zara\}\)</span></strong></li>
</ul></li>
<li>O sistema explora a <strong>Solução 3 (<span
class="math inline">\(p=Andrew\)</span>)</strong> e tenta satisfazer:
<span class="math inline">\(Parent(Andrew, x)\)</span>.
<ul>
<li>Busca Fatos…</li>
<li>Fato: <span class="math inline">\(Parent(Andrew, Beatrice)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 5: <span
class="math inline">\(\{x/Beatrice\}\)</span></strong></li>
<li>Fato: <span class="math inline">\(Parent(Andrew, Eugenie)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 6: <span
class="math inline">\(\{x/Eugenie\}\)</span></strong></li>
</ul></li>
<li>O sistema explora a <strong>Solução 4 (<span
class="math inline">\(p=Edward\)</span>)</strong> e tenta satisfazer:
<span class="math inline">\(Parent(Edward, x)\)</span>.
<ul>
<li>Busca Fatos…</li>
<li>Fato: <span class="math inline">\(Parent(Edward, Louise)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 7: <span
class="math inline">\(\{x/Louise\}\)</span></strong></li>
<li>Fato: <span class="math inline">\(Parent(Edward, James)\)</span>.
<span class="math inline">\(\implies\)</span> <strong>Resultado 8: <span
class="math inline">\(\{x/James\}\)</span></strong></li>
</ul></li>
<li><strong>Resultado Final da Consulta:</strong> {William, Harry,
Peter, Zara, Beatrice, Eugenie, Louise, James}.</li>
</ol>
<p><strong>2. Quem são os cunhados (Brothers-in-law) de Diana?</strong>
* <strong>Consulta LPO:</strong> <span class="math inline">\(? \;\;
BrotherInLaw(x, Diana)\)</span> * <strong>Resultados:</strong> {Andrew,
Edward}</p>
<p><strong>3. Quem são os bisavós (Great-grandparents) de Zara?</strong>
* <strong>Consulta LPO:</strong> <span class="math inline">\(? \;\;
Greatgrandparent(x, Zara)\)</span> * <strong>Resultados:</strong>
{Elizabeth, Philip} <em>(Nota: Os pais de Mark não estão na KB, então
não podem ser encontrados).</em></p>
<strong>4. Quem são os ancestrais (Ancestors) de Eugenie?</strong> *
<strong>Consulta LPO:</strong> <span class="math inline">\(? \;\;
Ancestor(x, Eugenie)\)</span> * <strong>Resultados:</strong> {Andrew,
Sarah, Elizabeth, Philip} <em>(Nota: Os pais de Sarah não estão na
KB).</em>
</details>
<h3 id="questão-11">Questão 11</h3>
<p>É possível usar igualdade para indicar a relação entre uma variável e
seu valor. Por exemplo, escrevemos <span
class="math inline">\({\text{WA}}{{\,=\,}}{red}\)</span> para significar
que a Austrália Ocidental é colorida de vermelho. Representando isso em
lógica de primeira ordem, devemos escrever mais verbosamente <span
class="math inline">\({ColorOf}(\text{WA}){{\,=\,}}{red}\)</span>. Que
inferência incorreta poderia ser tirada se escrevêssemos sentenças como
<span class="math inline">\({\text{WA}}{{\,=\,}}{red}\)</span>
diretamente como asserções lógicas?</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p>A asserção <span
class="math inline">\({\text{WA}}{{\,=\,}}{red}\)</span> afirma que o
objeto (a região) “Western Australia” (WA) é <em>idêntico</em> ao objeto
(a cor) “vermelho”.</p>
<p>A inferência incorreta é a <strong>transparência referencial</strong>
(substituição de iguais).</p>
<ul>
<li>Se a KB contém <span
class="math inline">\({\text{WA}}{{\,=\,}}{red}\)</span> (O objeto WA é
o objeto vermelho)</li>
<li>E a KB contém <span
class="math inline">\({PopulationOf}({\text{WA}}){{\,=\,}}2.6M\)</span>
(A população de WA é 2.6M)</li>
<li>Um sistema de inferência poderia (incorretamente) substituir <span
class="math inline">\({\text{WA}}\)</span> por <span
class="math inline">\({red}\)</span> e concluir:</li>
<li><span
class="math inline">\({PopulationOf}({red}){{\,=\,}}2.6M\)</span> (“A
população do vermelho é 2.6 milhões”).</li>
</ul>
Usar a função <span
class="math inline">\({ColorOf}({\text{WA}}){{\,=\,}}{red}\)</span>
evita isso, pois distingue corretamente o objeto de seu atributo.
</details>
<h3 id="questão-12">Questão 12</h3>
<p>Esta questão diz respeito a KBs de Horn, tais como:<br />
<span class="math inline">\(P(F(x)) \Rightarrow P(x)\)</span> <span
class="math inline">\(Q(x) \Rightarrow P(F(x))\)</span> <span
class="math inline">\(P(A)\)</span> <span
class="math inline">\(Q(B)\)</span>.</p>
<p>Seja FC um algoritmo “forward-chaining” (encadeamento para frente) em
largura, e BC um algoritmo “backward-chaining” (encadeamento para trás)
em profundidade (esquerda-para-direita, ordem da KB). Quais afirmações
são verdadeiras?</p>
<ol type="1">
<li>FC irá inferir o literal <span
class="math inline">\(Q(A)\)</span>.</li>
<li>FC irá inferir o literal <span
class="math inline">\(P(B)\)</span>.</li>
<li>Se FC falhou em inferir um dado literal, então ele não é acarretado
pela KB.</li>
<li>BC irá retornar <span class="math inline">\({true}\)</span> dada a
consulta <span class="math inline">\(P(B)\)</span>.</li>
<li>Se BC não retornar <span class="math inline">\({true}\)</span> dada
uma consulta, então ela não é acarretada pela KB.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Falso.</strong> <span class="math inline">\(Q(A)\)</span>
não é um fato nem pode ser derivado.</li>
<li><strong>Verdadeiro.</strong>
<ul>
<li>Iter 0 (Fatos): <span class="math inline">\(P(A)\)</span>, <span
class="math inline">\(Q(B)\)</span>.</li>
<li>Iter 1 (Aplica R2 em Q(B)): <span
class="math inline">\(P(F(B))\)</span>.</li>
<li>Iter 2 (Aplica R1 em P(F(B))): <span
class="math inline">\(P(B)\)</span>.</li>
<li>FC infere <span class="math inline">\(P(B)\)</span>.</li>
</ul></li>
<li><strong>Verdadeiro.</strong> FC é completo para KBs de Cláusulas
Definidas (Horn). Se FC termina (e termina, pois não há geração de
termos novos infinitos, ex: <span class="math inline">\(P(x) \implies
P(F(x))\)</span>) e não encontrou o literal, ele não é acarretado.</li>
<li><strong>Falso.</strong>
<ul>
<li>Query: <span class="math inline">\(P(B)\)</span>.</li>
<li>Match (R1) <span class="math inline">\(\{x/B\}\)</span>? Goal: <span
class="math inline">\(P(F(B))\)</span>.
<ul>
<li>Query: <span class="math inline">\(P(F(B))\)</span>.</li>
<li>Match (R1) <span class="math inline">\(\{x/F(B)\}\)</span>? Goal:
<span class="math inline">\(P(F(F(B)))\)</span>… (Loop).</li>
<li>Match (R2) <span class="math inline">\(\{x/B\}\)</span>? Goal: <span
class="math inline">\(Q(B)\)</span>.</li>
</ul></li>
</ul></li>
<li><strong>Falso.</strong> BC (depth-first) não é completo. Ele pode
entrar em um loop infinito e nunca encontrar uma prova, mesmo que uma
exista, como é o caso de <span class="math inline">\(P(B)\)</span>.</li>
</ol>
<hr />
</details>
<h3 id="questão-13">Questão 13</h3>
<p>Um enigma infantil popular é “Irmãos e irmãs eu não tenho nenhum, mas
o pai daquele homem é o filho do meu pai.” Reaproveite (e estenda) as
regras daquela questão da árvore genealógica para mostrar quem é aquele
homem.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ul>
<li><p><strong>Fatos e Axiomas (KB):</strong></p>
<ul>
<li>F1: <span class="math inline">\(\lnot \exists s \;\; Sibling(s,
Eu)\)</span> (Eu não tenho irmãos/irmãs)</li>
<li>F2: <span class="math inline">\(Father(AqueleHomem) =
Son(Father(Eu))\)</span></li>
<li>A1 (Definição de Filho): <span class="math inline">\(Son(p) = x \iff
(Male(x) \land Parent(p, x))\)</span></li>
<li>A2 (Definição de Relação Parental): <span
class="math inline">\(Parent(p, x) \iff (Sibling(x, Eu) \lor x =
Eu)\)</span> (Filhos de <span class="math inline">\(p\)</span> são <span
class="math inline">\(x\)</span> (irmãos de Eu) ou o próprio Eu)</li>
</ul></li>
<li><p><strong>Prova (Raciocínio):</strong></p>
<ol type="1">
<li>Queremos saber quem é <span
class="math inline">\(Son(Father(Eu))\)</span> (o filho do meu
pai).</li>
<li>Pelo Axioma A1 e A2, <span
class="math inline">\(Son(Father(Eu))\)</span> é <span
class="math inline">\(x\)</span> tal que <span
class="math inline">\(Male(x)\)</span> e <span
class="math inline">\((Sibling(x, Eu) \lor x = Eu)\)</span>.</li>
<li>O Fato F1 (Eu não tenho irmãos) elimina <span
class="math inline">\(Sibling(x, Eu)\)</span>.</li>
<li>Portanto, a única possibilidade para <span
class="math inline">\(x\)</span> é <span class="math inline">\(x =
Eu\)</span>. (Isso requer o fato implícito <span
class="math inline">\(Male(Eu)\)</span>).</li>
<li>Substituindo (4) em (F2), obtemos: <span
class="math inline">\(Father(AqueleHomem) = Eu\)</span>.</li>
<li><strong>Conclusão:</strong> O “Eu” (o narrador) é o pai “Daquele
Homem”. “Aquele Homem” é o filho do narrador.</li>
</ol></li>
<li><p><strong>Dificuldade:</strong> O enigma é difícil porque usa uma
descrição complicada (“filho do meu pai”) para se referir a uma entidade
simples (“eu mesmo”). Isso força uma computação indireta e uma mudança
de perspectiva que obscurece a relação simples <span
class="math inline">\(Father(AqueleHomem) = Eu\)</span>.</p></li>
</ul>
</details>
<h3 id="questão-14">Questão 14</h3>
<p>Trace a execução do algoritmo “backward-chaining” quando aplicado
para resolver o problema do “Crime do Coronel West”:</p>
<p><em>A lei diz que é crime para um americano vender armas a nações
hostis. O país Nono, inimigo da América, possui mísseis, e todos os seus
mísseis foram vendidos a ele pelo Coronel West, que é
americano.</em></p>
<p>Mostre a sequência de valores assumidos pela variável <span
class="math inline">\({goals}\)</span> e organize-os em uma árvore.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p><strong>KB:</strong><br />
<span class="math inline">\(American(West)\)</span>,<br />
<span class="math inline">\(Missile(M1)\)</span>,<br />
<span class="math inline">\(Owns(Nono, M1)\)</span>,<br />
<span class="math inline">\(Enemy(Nono, America)\)</span>,<br />
<span class="math inline">\(Missile(x) \implies
Weapon(x)\)</span>,<br />
<span class="math inline">\(Enemy(x, America) \implies
Hostile(x)\)</span>,<br />
<span class="math inline">\(American(x) \land Weapon(y) \land
Sells(x,y,z) \land Hostile(z) \implies Criminal(x)\)</span>,<br />
<span class="math inline">\(Missile(x) \land Owns(Nono, x) \implies
Sells(West, x, Nono)\)</span></p>
<p><strong>West é um criminoso?</strong></p>
<pre><code>[Criminal(West)]
 |
 +-- [American(West), Weapon(y), Sells(West,y,z), Hostile(z)]
     |
     +-- [Weapon(y), Sells(West,y,z), Hostile(z)] (American(West) provado por Fato)
         |
         +-- [Missile(y), Sells(West,y,z), Hostile(z)] (Weapon(y) provado por regra)
             |
             +-- [Sells(West,M1,z), Hostile(z)] (Missile(y) provado por Fato Missile(M1), {y/M1})
                 |
                 +-- [Missile(M1), Owns(Nono,M1), Hostile(z)] (Sells(West,M1,z) provado por regra, {z/Nono})
                     |
                     +-- [Owns(Nono,M1), Hostile(Nono)] (Missile(M1) provado por Fato)
                         |
                         +-- [Hostile(Nono)] (Owns(Nono,M1) provado por Fato)
                             |
                             +-- [Enemy(Nono,America)] (Hostile(Nono) provado por regra)
                                 |
                                 +-- [] (Enemy(Nono,America) provado por Fato)
                                     |
                                     +-- SUCESSO</code></pre>
</details>
<h3 id="questão-15">Questão 15</h3>
<p>Crie uma representação de conhecimento Ontológico para que as
seguintes sentenças possam ser tratadas adequadamente (ver Cap. 10 do
livro texto).</p>
<ol type="1">
<li>Água é um líquido entre 0 e 100 graus.</li>
<li>Água ferve a 100 graus.</li>
<li>A água na garrafa de água de John está congelada.</li>
<li>Perrier é um tipo de água.</li>
<li>John tem Perrier em sua garrafa de água.</li>
<li>Todos os líquidos têm um ponto de congelamento.</li>
<li>Um litro de água pesa mais que um litro de álcool.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p><em>(Usando substâncias, objetos e medidas)</em></p>
<ol type="1">
<li><span class="math inline">\(\forall t \;\; (InstanceOf(t, Water)
\land Temperature(t, DegreesC(v)) \land v &gt; 0 \land v &lt; 100)
\implies State(t, Liquid)\)</span>.</li>
<li><span class="math inline">\(\forall t \;\; InstanceOf(t, Water)
\implies BoilingPoint(t, DegreesC(100))\)</span>.</li>
<li><span class="math inline">\(\exists w, b \;\; (InstanceOf(w, Water)
\land In(w, b) \land InstanceOf(b, WaterBottle) \land Owns(John, b)
\land State(w, Solid))\)</span>. (Solid = Frozen).</li>
<li><span class="math inline">\(\forall x \;\; InstanceOf(x, Perrier)
\implies InstanceOf(x, Water)\)</span>.</li>
<li><span class="math inline">\(\exists p, b \;\; (InstanceOf(p,
Perrier) \land In(p, b) \land InstanceOf(b, WaterBottle) \land
Owns(John, b))\)</span>.</li>
<li><span class="math inline">\(\forall l \;\; InstanceOf(l, Liquid)
\implies \exists t \;\; FreezingPoint(l, t)\)</span>.</li>
<li><span class="math inline">\(\forall w, a \;\; (InstanceOf(w, Water)
\land Volume(w, Liters(1)) \land InstanceOf(a, Alcohol) \land Volume(a,
Liters(1))) \implies (Weight(w) &gt; Weight(a))\)</span>.</li>
</ol>
</details>
<h2
id="questões-16-à-20-representação-do-conhecimento-incerto-e-raciocínio-probailístico">Questões
16 à 20: Representação do Conhecimento Incerto e Raciocínio
Probailístico</h2>
<h3 id="questão-16">Questão 16</h3>
<p>Considere dois testes médicos, A e B, para um vírus. O teste A tem
95% de eficácia em reconhecer o vírus quando ele está presente, mas tem
uma taxa de falso positivo de 10% (indicando que o vírus está presente,
quando não está). O teste B tem 90% de eficácia em reconhecer o vírus,
mas tem uma taxa de falso positivo de 5%. Os dois testes usam métodos
independentes para identificar o vírus. O vírus está presente em 1% da
população. Digamos que uma pessoa seja testada para o vírus usando
apenas um dos testes, e o resultado do teste seja positivo para o vírus.
Qual resultado de teste positivo é mais indicativo de que alguém
realmente carrega o vírus? Justifique sua resposta matematicamente.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p>Precisamos comparar <span class="math inline">\(P(V |
\text{Pos}_A)\)</span> com <span class="math inline">\(P(V |
\text{Pos}_B)\)</span>.</p>
<ul>
<li><span class="math inline">\(P(V) = 0.01 \implies P(\neg V) =
0.99\)</span></li>
<li><strong>Teste A:</strong>
<ul>
<li><span class="math inline">\(P(\text{Pos}_A | V) = 0.95\)</span>
(sensibilidade)</li>
<li><span class="math inline">\(P(\text{Pos}_A | \neg V) = 0.10\)</span>
(falso positivo)</li>
</ul></li>
<li><strong>Teste B:</strong>
<ul>
<li><span class="math inline">\(P(\text{Pos}_B | V) = 0.90\)</span></li>
<li><span class="math inline">\(P(\text{Pos}_B | \neg V) =
0.05\)</span></li>
</ul></li>
</ul>
<p><strong>Cálculo (Teste A):</strong> <span class="math inline">\(P(V |
\text{Pos}_A) = \frac{P(\text{Pos}_A | V)
P(V)}{P(\text{Pos}_A)}\)</span></p>
<ul>
<li><span class="math inline">\(P(\text{Pos}_A) = P(\text{Pos}_A |
V)P(V) + P(\text{Pos}_A | \neg V)P(\neg V)\)</span></li>
<li><span class="math inline">\(P(\text{Pos}_A) = (0.95)(0.01) +
(0.10)(0.99) = 0.0095 + 0.099 = 0.1085\)</span></li>
<li><span class="math inline">\(P(V | \text{Pos}_A) =
\frac{0.0095}{0.1085} \approx \mathbf{0.0875}\)</span> (8.75%)</li>
</ul>
<p><strong>Cálculo (Teste B):</strong> <span class="math inline">\(P(V |
\text{Pos}_B) = \frac{P(\text{Pos}_B | V)
P(V)}{P(\text{Pos}_B)}\)</span></p>
<ul>
<li><span class="math inline">\(P(\text{Pos}_B) = P(\text{Pos}_B |
V)P(V) + P(\text{Pos}_B | \neg V)P(\neg V)\)</span></li>
<li><span class="math inline">\(P(\text{Pos}_B) = (0.90)(0.01) +
(0.05)(0.99) = 0.0090 + 0.0495 = 0.0585\)</span></li>
<li><span class="math inline">\(P(V | \text{Pos}_B) =
\frac{0.0090}{0.0585} \approx \mathbf{0.1538}\)</span> (15.38%)</li>
</ul>
<strong>Conclusão:</strong> O <strong>Teste B</strong> retornando
positivo é mais indicativo (quase o dobro) de que a pessoa tem o vírus,
devido à sua taxa de falso positivo muito menor.
</details>
<h3 id="questão-17">Questão 17</h3>
<p>Considere a rede Bayesiana da figura abaixo.</p>
<figure>
<img src="figures/rp36.png" alt="Figura rp36" style="max-width: 100%; width: 80%; height: auto;" />
</figure>
<ol type="1">
<li>Se nenhuma evidência é observada, <span
class="math inline">\({Burglary}\)</span> (Roubo) e <span
class="math inline">\({Earthquake}\)</span> (Terremoto) são
independentes? Prove isso pela semântica numérica e pela semântica
topológica (<span class="math inline">\(d\)</span>-separação).</li>
<li>Se observarmos <span
class="math inline">\({Alarm}{{\,=\,}}{true}\)</span>, <span
class="math inline">\({Burglary}\)</span> e <span
class="math inline">\({Earthquake}\)</span> são independentes?
Justifique calculando se as probabilidades satisfazem a definição de
independência condicional.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Sem Evidência:</strong> <strong>Sim, são
independentes.</strong>
<ul>
<li><strong>Semântica Topológica (d-separação):</strong> O único caminho
entre <span class="math inline">\({Burglary}\)</span> e <span
class="math inline">\({Earthquake}\)</span> é <span
class="math inline">\(B \rightarrow A \leftarrow E\)</span>. Este é um
“colisor” (v-structure). Como o nó <span
class="math inline">\(A\)</span> (e seus descendentes) <em>não</em>
estão observados, o caminho está <strong>bloqueado</strong>. Portanto,
<span class="math inline">\(B\)</span> e <span
class="math inline">\(E\)</span> são d-separados (independentes).</li>
<li><strong>Semântica Numérica:</strong> Devemos provar <span
class="math inline">\(P(B,E) = P(B)P(E)\)</span>.
<ul>
<li><span class="math inline">\(P(B,E) = \sum_{a,j,m}
P(B,E,a,j,m)\)</span></li>
<li><span class="math inline">\(P(B,E) = \sum_a \sum_j \sum_m P(B) P(E)
P(a|B,E) P(j|a) P(m|a)\)</span></li>
<li><span class="math inline">\(P(B,E) = P(B) P(E) \sum_a P(a|B,E)
\left[ \sum_j P(j|a) \right] \left[ \sum_m P(m|a) \right]\)</span></li>
<li>Pela definição de CPTs, <span class="math inline">\(\sum_j
P(j|a)=1\)</span> e <span class="math inline">\(\sum_m
P(m|a)=1\)</span>.</li>
<li><span class="math inline">\(P(B,E) = P(B) P(E) \sum_a
P(a|B,E)\)</span>.</li>
<li>Pela definição de CPTs, <span class="math inline">\(\sum_a
P(a|B,E)=1\)</span>.</li>
<li><span class="math inline">\(P(B,E) = P(B) P(E)\)</span>.
(Provado).</li>
</ul></li>
</ul></li>
<li><strong>Com Evidência <span
class="math inline">\(A=true\)</span>:</strong> <strong>Não, não são
independentes.</strong>
<ul>
<li><strong>Semântica Topológica:</strong> O caminho <span
class="math inline">\(B \rightarrow A \leftarrow E\)</span>. O colisor
<span class="math inline">\(A\)</span> <em>está</em> observado. Observar
um colisor <strong>abre (desbloqueia)</strong> o caminho. <span
class="math inline">\(B\)</span> e <span
class="math inline">\(E\)</span> não estão d-separados dado <span
class="math inline">\(A\)</span>.</li>
<li><strong>Semântica Numérica:</strong> Devemos verificar se <span
class="math inline">\(P(B | A) = P(B | A, E)\)</span>.
<ul>
<li>(Usando os valores da CPT na Fig):</li>
<li><span class="math inline">\(P(b) = 0.001\)</span>, <span
class="math inline">\(P(e) = 0.002\)</span>.</li>
<li><span class="math inline">\(P(a|b,e) = 0.95\)</span>, <span
class="math inline">\(P(a|b,\neg e) = 0.94\)</span>, <span
class="math inline">\(P(a|\neg b,e) = 0.29\)</span>, <span
class="math inline">\(P(a|\neg b,\neg e) = 0.001\)</span>.</li>
<li><strong>Cálculo de <span class="math inline">\(P(b | a)\)</span>
(prob. de roubo dado alarme):</strong>
<ul>
<li><span class="math inline">\(P(b|a) = \alpha P(b) \sum_e P(e)
P(a|b,e)\)</span></li>
<li><span class="math inline">\(P(b|a) \propto P(b) [P(e)P(a|b,e) +
P(\neg e)P(a|b,\neg e)]\)</span></li>
<li><span class="math inline">\(P(b|a) \propto (0.001) [ (0.002)(0.95) +
(0.998)(0.94) ] \propto 0.00094012\)</span></li>
<li><span class="math inline">\(P(\neg b|a) \propto P(\neg b)
[P(e)P(a|\neg b,e) + P(\neg e)P(a|\neg b,\neg e)]\)</span></li>
<li><span class="math inline">\(P(\neg b|a) \propto (0.999) [
(0.002)(0.29) + (0.998)(0.001) ] \propto 0.00157742\)</span></li>
<li><span class="math inline">\(P(b|a) = \frac{0.00094}{0.00094 +
0.001577} \approx \mathbf{0.373}\)</span></li>
</ul></li>
<li><strong>Cálculo de <span class="math inline">\(P(b | a, e)\)</span>
(prob. de roubo dado alarme E terremoto):</strong>
<ul>
<li><span class="math inline">\(P(b|a,e) = \alpha P(b, a, e) = \alpha
P(b)P(e)P(a|b,e)\)</span></li>
<li><span class="math inline">\(P(b|a,e) \propto (0.001)(0.002)(0.95)
\propto 0.0000019\)</span></li>
<li><span class="math inline">\(P(\neg b|a,e) \propto
(0.999)(0.002)(0.29) \propto 0.00057942\)</span></li>
<li><span class="math inline">\(P(b|a,e) = \frac{0.0000019}{0.0000019 +
0.00057942} \approx \mathbf{0.0032}\)</span></li>
</ul></li>
<li><strong>Conclusão:</strong> Como <span class="math inline">\(0.373
\neq 0.0032\)</span>, eles são <strong>dependentes</strong>.</li>
</ul></li>
</ul></li>
</ol>
</details>
<h3 id="questão-18">Questão 18</h3>
<p>Na sua usina nuclear local, há um alarme que detecta quando um
medidor de temperatura excede um limite. O medidor mede a temperatura do
núcleo. Considere as variáveis Booleanas <span
class="math inline">\(A\)</span> (alarme soa), <span
class="math inline">\(F_A\)</span> (alarme está com defeito), e <span
class="math inline">\(F_G\)</span> (medidor está com defeito) e os nós
multivalorados <span class="math inline">\(G\)</span> (leitura do
medidor) e <span class="math inline">\(T\)</span> (temperatura real do
núcleo).</p>
<ol type="1">
<li>Desenhe uma rede Bayesiana para este domínio, dado que o medidor é
mais provável de falhar quando a temperatura do núcleo fica muito
alta.</li>
<li>Suponha que haja apenas duas temperaturas (normal, alta); a
probabilidade de o medidor dar a temperatura correta é <span
class="math inline">\(x\)</span> quando está funcionando, mas <span
class="math inline">\(y\)</span> quando está com defeito. Dê a CPT para
<span class="math inline">\(G\)</span>.</li>
<li>Suponha que o alarme funcione corretamente, a menos que esteja com
defeito, caso em que ele nunca soa. Dê a CPT para <span
class="math inline">\(A\)</span>.</li>
<li>Suponha que o alarme e o medidor estejam funcionando e o alarme soe.
Calcule uma expressão para a probabilidade de a temperatura do núcleo
estar muito alta, em termos das várias probabilidades condicionais na
rede.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Rede Bayesiana:</strong>
<ul>
<li><span class="math inline">\(T \rightarrow F_G\)</span> (Temperatura
alta causa falha no medidor)</li>
<li><span class="math inline">\(T \rightarrow G\)</span> (Medidor lê a
temperatura)</li>
<li><span class="math inline">\(F_G \rightarrow G\)</span> (Falha no
medidor afeta a leitura)</li>
<li><span class="math inline">\(G \rightarrow A\)</span> (Leitura aciona
o alarme)</li>
<li><span class="math inline">\(F_A \rightarrow A\)</span> (Falha no
alarme afeta o alarme)</li>
<li><strong>Estrutura:</strong></li>
</ul></li>
</ol>
<figure>
<img src="figures/rp44.png" alt="Figura rp44" style="max-width: 100%; width: 50%; height: auto;" />
</figure>
<ol start="2" type="1">
<li><strong>CPT para <span class="math inline">\(G\)</span>
(Leitura):</strong> (<span class="math inline">\(G\)</span> depende de
<span class="math inline">\(T\)</span> e <span
class="math inline">\(F_G\)</span>) | <span
class="math inline">\(T\)</span> | <span
class="math inline">\(F_G\)</span> | <span
class="math inline">\(P(G=High \| T, F_G)\)</span> | | :— | :— | :— | |
High | <span class="math inline">\(\neg f_g\)</span> | <span
class="math inline">\(x\)</span> (correto) | | High | <span
class="math inline">\(f_g\)</span> | <span
class="math inline">\(y\)</span> (correto por acaso?) | | Normal | <span
class="math inline">\(\neg f_g\)</span> | <span
class="math inline">\(1-x\)</span> (incorreto) | | Normal | <span
class="math inline">\(f_g\)</span> | <span
class="math inline">\(1-y\)</span> (incorreto por acaso?) |
<em>(Assumindo <span class="math inline">\(P(G=\text{Normal}) = 1 -
P(G=\text{High})\)</span>)</em></li>
<li><strong>CPT para <span class="math inline">\(A\)</span>
(Alarme):</strong> (<span class="math inline">\(A\)</span> depende de
<span class="math inline">\(G\)</span> e <span
class="math inline">\(F_A\)</span>)
<ul>
<li><p>Alarme soa se <span class="math inline">\(G=High\)</span>, a
menos que <span class="math inline">\(F_A\)</span> seja verdadeiro.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><span
class="math inline">\(G\)</span></th>
<th style="text-align: left;"><span
class="math inline">\(F_A\)</span></th>
<th style="text-align: left;"><span class="math inline">\(P(A=True \| G,
F_A)\)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">High</td>
<td style="text-align: left;"><span class="math inline">\(\neg
f_a\)</span></td>
<td style="text-align: left;">1.0</td>
</tr>
<tr>
<td style="text-align: left;">High</td>
<td style="text-align: left;"><span
class="math inline">\(f_a\)</span></td>
<td style="text-align: left;">0.0 (Nunca soa)</td>
</tr>
<tr>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;"><span class="math inline">\(\neg
f_a\)</span></td>
<td style="text-align: left;">0.0</td>
</tr>
<tr>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;"><span
class="math inline">\(f_a\)</span></td>
<td style="text-align: left;">0.0</td>
</tr>
</tbody>
</table></li>
</ul></li>
<li><strong>Cálculo:</strong> <span class="math inline">\(P(T=High | A,
\neg F_A, \neg F_G)\)</span>.
<ul>
<li><span class="math inline">\(P(T_h | a, \neg f_a, \neg f_g) = \alpha
P(T_h, a, \neg f_a, \neg f_g)\)</span></li>
<li><span class="math inline">\(= \alpha \sum_g P(T_h) P(\neg f_g | T_h)
P(g | T_h, \neg f_g) P(\neg f_a) P(a | g, \neg f_a)\)</span></li>
<li><span class="math inline">\(= \alpha&#39; P(T_h) P(\neg f_g | T_h)
\sum_g P(g | T_h, \neg f_g) P(a | g, \neg f_a)\)</span></li>
<li><strong>Expandindo a Soma (Termo 1: <span
class="math inline">\(T_h\)</span>):</strong>
<ul>
<li><span class="math inline">\(g=High\)</span>: <span
class="math inline">\(P(g_h | T_h, \neg f_g) \times P(a | g_h, \neg f_a)
= (x) \times (1.0) = x\)</span></li>
<li><span class="math inline">\(g=Normal\)</span>: <span
class="math inline">\(P(g_n | T_h, \neg f_g) \times P(a | g_n, \neg f_a)
= (1-x) \times (0.0) = 0\)</span></li>
<li>Soma = <span class="math inline">\(x\)</span>.</li>
</ul></li>
<li><strong>Expandindo a Soma (Termo 2: <span
class="math inline">\(T_n\)</span>):</strong>
<ul>
<li><span class="math inline">\(g=High\)</span>: <span
class="math inline">\(P(g_h | T_n, \neg f_g) \times P(a | g_h, \neg f_a)
= (1-x) \times (1.0) = 1-x\)</span></li>
<li><span class="math inline">\(g=Normal\)</span>: <span
class="math inline">\(P(g_n | T_n, \neg f_g) \times P(a | g_n, \neg f_a)
= (x) \times (0.0) = 0\)</span></li>
<li>Soma = <span class="math inline">\(1-x\)</span>.</li>
</ul></li>
<li><strong>Substituindo:</strong>
<ul>
<li><span class="math inline">\(P(T_h | \dots) \propto P(T_h) P(\neg f_g
| T_h) \cdot x\)</span></li>
<li><span class="math inline">\(P(T_n | \dots) \propto P(T_n) P(\neg f_g
| T_n) \cdot (1-x)\)</span></li>
</ul></li>
<li><strong>Expressão Final:</strong> <span class="math display">\[P(T_h
| \dots) = \frac{P(T_h) P(\neg f_g | T_h) x}{P(T_h) P(\neg f_g | T_h) x
+ P(T_n) P(\neg f_g | T_n) (1-x)}\]</span></li>
</ul></li>
</ol>
</details>
<h3 id="questão-19">Questão 19</h3>
<p>Dois astrônomos (…) fazem medições <span
class="math inline">\(M_1\)</span> e <span
class="math inline">\(M_2\)</span> do número de estrelas <span
class="math inline">\(N\)</span> (…). Normalmente, há uma pequena
possibilidade <span class="math inline">\(e\)</span> de erro de até uma
estrela (…). Cada telescópio também pode (com prob. <span
class="math inline">\(f\)</span>) estar muito fora de foco (eventos
<span class="math inline">\(F_1, F_2\)</span>), caso em que o cientista
subcontará por três ou mais estrelas (…). Considere as três redes
mostradas na Figura &lt;a class=“insideExercisesFigRef”
href=“#telescope-nets-figure”&gt;telescope-nets-figure&lt;/a&gt;.</p>
<p>Dois astrônomos em partes diferentes do mundo fazem medições <span
class="math inline">\(M_1\)</span> e <span
class="math inline">\(M_2\)</span> do número de estrelas <span
class="math inline">\(N\)</span> em uma pequena região do céu, usando
seus telescópios. Normalmente, há uma pequena possibilidade <span
class="math inline">\(e\)</span> de erro de até uma estrela em cada
direção. Cada telescópio também pode (com uma probabilidade muito menor
<span class="math inline">\(f\)</span>) estar muito desfocado (eventos
<span class="math inline">\(F_1\)</span> e <span
class="math inline">\(F_2\)</span>), caso em que o cientista contará
três ou mais estrelas a menos (ou se <span
class="math inline">\(N\)</span> for menor que <span
class="math inline">\(3\)</span>, não detectará nenhuma estrela).
Considere as três redes mostradas na figura a seguir.</p>
<figure>
<img src="figures/rp45.svg" alt="Figura rp45" style="max-width: 100%; width: 70%; height: auto;" />
</figure>
<ol type="1">
<li>Quais dessas redes Bayesianas são representações corretas (mas não
necessariamente eficientes) da informação?</li>
<li>Qual é a melhor rede? Explique.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Redes Corretas?</strong>
<ul>
<li>Embora (i) de alguma forma represente o “fluxo de informação”
durante o cálculo, é claramente incorreto como rede, pois diz que dadas
as medições M1 e M2, o número de estrelas é independente do foco.</li>
<li><ol start="2" type="i">
<li>representa corretamente a estrutura causal: cada medição é
influenciada pelo número real de estrelas e pelo foco, e os dois
telescópios são independentes um do outro.</li>
</ol></li>
<li><ol start="3" type="i">
<li>mostra uma rede correta, mas mais complicada — aquela obtida pela
ordenação dos nós M1, M2, N, F1, F2. Se você ordenar M2 antes de M1,
obteria a mesma rede, exceto com a seta de M1 para M2 invertida.</li>
</ol></li>
</ul></li>
<li><strong>Melhor Rede:</strong> <strong>Rede (ii)</strong>. Ela modela
explicitamente todas as variáveis e dependências descritas no problema,
com uso de menos parâmetros.</li>
</ol>
</details>
<h3 id="questão-20">Questão 20</h3>
<p>A PacLabs acaba de criar um novo tipo de mini-pastilha de poder
(mini-pellet) que é pequena o suficiente para o Pacman carregar quando
ele corre por aí. Infelizmente, essas mini-pastilhas não garantem que o
Pacman vencerá todas as suas lutas contra fantasmas, e elas se parecem
exatamente com os pontos regulares (regular dots) que o Pacman costuma
comer.</p>
<p>Pacman acabou de comer um lanche (<span
class="math inline">\(P\)</span>), que era ou uma mini-pastilha (<span
class="math inline">\(+p\)</span>) ou um ponto regular (<span
class="math inline">\(-p\)</span>), e está prestes a entrar em uma luta
(<span class="math inline">\(W\)</span>), que ele pode vencer (<span
class="math inline">\(+w\)</span>) ou perder (<span
class="math inline">\(-w\)</span>). Ambas as variáveis são
desconhecidas, mas, felizmente, Pacman é um mestre da probabilidade. Ele
sabe que seu saco de lanches tem <strong>5 mini-pastilhas</strong> e
<strong>15 pontos regulares</strong>. Ele também sabe que se ele comeu
uma mini-pastilha, ele tem <strong>70% de chance de vencer</strong>, mas
se ele comeu um ponto regular, ele tem apenas <strong>20% de chance de
vencer</strong>.</p>
<p><strong>a.</strong> Qual é <span
class="math inline">\(P(+w)\)</span>, a probabilidade marginal de que
Pacman vencerá?</p>
<p><strong>b.</strong> Pacman venceu! Qual é a probabilidade condicional
<span class="math inline">\(P(+p \mid +w)\)</span> de que a comida que
ele comeu era uma mini-pastilha?</p>
<p>Pacman pode fazer estimativas de probabilidade melhores se levar mais
informações em conta. Primeiro, o hálito de Pacman, <span
class="math inline">\(B\)</span>, pode ser ruim (<span
class="math inline">\(+b\)</span>) ou fresco (<span
class="math inline">\(-b\)</span>). Segundo, há dois tipos de fantasma
(<span class="math inline">\(M\)</span>): malvados (<span
class="math inline">\(+m\)</span>) e bonzinhos (<span
class="math inline">\(-m\)</span>). Pacman codificou seu conhecimento
sobre a situação na Rede Bayesiana da da figura abaixo.</p>
<figure>
<img src="figures/rp20a.png" alt="Figura rp20a" style="max-width: 100%; width: 25%; height: auto;" />
</figure>
<p><strong>c.</strong> Qual é a probabilidade do evento atômico <span
class="math inline">\((-m, +p, +w, -b)\)</span>, onde Pacman come uma
mini-pastilha e tem hálito fresco, vence uma luta contra um fantasma
bonzinho?</p>
<p><strong>d.</strong> Quais das seguintes afirmações de independência
condicional são verdadeiras pela estrutura da Rede Bayesiana?<br />
(i) <span class="math inline">\(W \perp\!\!\!\perp B\)</span>.<br />
(ii) <span class="math inline">\(W \perp\!\!\!\perp B \mid
P\)</span>.<br />
(iii) <span class="math inline">\(M \perp\!\!\!\perp P\)</span>.<br />
(iv) <span class="math inline">\(M \perp\!\!\!\perp P \mid
W\)</span>.<br />
(v) <span class="math inline">\(M \perp\!\!\!\perp B\)</span>.<br />
(vi) <span class="math inline">\(M \perp\!\!\!\perp B \mid
P\)</span>.<br />
(vii) <span class="math inline">\(M \perp\!\!\!\perp B \mid
W\)</span>.</p>
<p>Para o restante desta questão, use a metade da tabela de
probabilidade conjunta que foi computada na figura abaixo.</p>
<figure>
<img src="figures/rp20b.png" alt="Figura rp20b" style="max-width: 100%; width: 70%; height: auto;" />
</figure>
<p><strong>e.</strong> Qual é a probabilidade marginal, <span
class="math inline">\(P(+m, +b)\)</span>, de que Pacman encontre um
fantasma malvado e tenha hálito ruim?</p>
<p><strong>f.</strong> Pacman observa que ele tem hálito ruim e que o
fantasma que ele está enfrentando é malvado. Qual é a probabilidade
condicional, <span class="math inline">\(P(+w \mid +m, +b)\)</span>, de
que ele vencerá a luta, dadas essas observações?</p>
<p><strong>g.</strong> A utilidade de Pacman é <strong>+10 por
vencer</strong> uma luta, <strong>-5 por perder</strong> uma luta, e
<strong>-1 por fugir</strong> de uma luta. Pacman quer maximizar sua
utilidade esperada. Dado que ele tem hálito ruim e está enfrentando um
fantasma malvado, ele deve ficar e lutar, ou fugir? Justifique sua
resposta numericamente.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p>As questões (a) e (b) usam o modelo simplificado descrito no texto.
As questões (c) a (g) usam o modelo completo da Rede Bayesiana e a
tabela de probabilidade.</p>
<p>Primeiro, definimos as probabilidades dadas no texto: * <span
class="math inline">\(P(+p) = 5 / (5+15) = 0.25\)</span> * <span
class="math inline">\(P(-p) = 15 / (5+15) = 0.75\)</span> * <span
class="math inline">\(P(+w \mid +p) = 0.70\)</span> * <span
class="math inline">\(P(+w \mid -p) = 0.20\)</span></p>
<p><strong>a. Qual é <span class="math inline">\(P(+w)\)</span>, a
probabilidade marginal de que Pacman vencerá?</strong></p>
<p>Usamos a lei da probabilidade total, somando sobre as possibilidades
de lanche (<span class="math inline">\(P\)</span>):<br />
<span class="math inline">\(P(+w) = P(+w \mid +p)P(+p) + P(+w \mid
-p)P(-p)\)</span>.<br />
<span class="math inline">\(P(+w) = (0.70 \times 0.25) + (0.20 \times
0.75)\)</span>.<br />
<span class="math inline">\(P(+w) = 0.175 + 0.150\)</span>.<br />
<span class="math inline">\(P(+w) = 0.325\)</span>.</p>
<p><strong>Resposta:</strong> A probabilidade marginal de Pacman vencer
é <strong>32.5%</strong>.</p>
<p><strong>b. Qual é a probabilidade condicional <span
class="math inline">\(P(+p \mid +w)\)</span>?</strong></p>
<p>Usamos a Regra de Bayes para encontrar a probabilidade de ele ter
comido uma mini-pastilha, dado que venceu:<br />
<span class="math inline">\(P(+p \mid +w) = \frac{P(+w \mid +p)
P(+p)}{P(+w)}\)</span>.<br />
<span class="math inline">\(P(+p \mid +w) = \frac{0.70 \times
0.25}{0.325}\)</span>.<br />
<span class="math inline">\(P(+p \mid +w) = \frac{0.175}{0.325} \approx
0.5385\)</span>.</p>
<p><strong>Resposta:</strong> A probabilidade de o lanche ser uma
mini-pastilha, dado que ele venceu, é de aproximadamente
<strong>53.85%</strong>.</p>
<p><strong>c. Qual é a probabilidade do evento atômico <span
class="math inline">\((-m, +p, +w, -b)\)</span>?</strong></p>
<p>Usamos a regra da cadeia da Rede Bayesiana para calcular a
probabilidade conjunta: <span class="math display">\[P(M, P, W, B) =
P(M) P(P) P(B \mid P) P(W \mid M, P)\]</span> Substituímos os valores
para o evento <span class="math inline">\((-m, +p, +w, -b)\)</span>:
<span class="math display">\[P(-m, +p, +w, -b) = P(-m) \times P(+p)
\times P(-b \mid +p) \times P(+w \mid -m, +p)\]</span></p>
<ul>
<li><span class="math inline">\(P(-m) = 1 - P(+m) = 1 - 0.50 =
0.50\)</span></li>
<li><span class="math inline">\(P(+p) = 0.25\)</span></li>
<li><span class="math inline">\(P(-b \mid +p) = 1 - P(+b \mid +p) = 1 -
0.80 = 0.20\)</span></li>
<li><span class="math inline">\(P(+w \mid -m, +p) = 0.80\)</span> (da
tabela <span class="math inline">\(P(W|M,P)\)</span>)</li>
</ul>
<p><span class="math display">\[P(-m, +p, +w, -b) = 0.50 \times 0.25
\times 0.20 \times 0.80 = 0.02\]</span></p>
<p><strong>Resposta:</strong> A probabilidade do evento atômico é
<strong>2%</strong>.</p>
<p><strong>d. Quais afirmações de independência são
verdadeiras?</strong></p>
<p>Analisamos a d-separação na estrutura da rede:</p>
<ul>
<li><strong>(i) <span class="math inline">\(W \perp\!\!\!\perp
B\)</span>:</strong> <strong>Falso.</strong> O caminho <span
class="math inline">\(W \leftarrow P \rightarrow B\)</span> está aberto
porque <span class="math inline">\(P\)</span> (uma causa comum) não é
observado.</li>
<li><strong>(ii) <span class="math inline">\(W \perp\!\!\!\perp B \mid
P\)</span>:</strong> <strong>Verdadeiro.</strong> O caminho <span
class="math inline">\(W \leftarrow P \rightarrow B\)</span> é bloqueado
quando <span class="math inline">\(P\)</span> é observado.</li>
<li><strong>(iii) <span class="math inline">\(M \perp\!\!\!\perp
P\)</span>:</strong> <strong>Verdadeiro.</strong> Não há caminhos entre
<span class="math inline">\(M\)</span> e <span
class="math inline">\(P\)</span>. Eles são d-separados.</li>
<li><strong>(iv) <span class="math inline">\(M \perp\!\!\!\perp P \mid
W\)</span>:</strong> <strong>Falso.</strong> O caminho <span
class="math inline">\(M \rightarrow W \leftarrow P\)</span> é um
“colisor” (collider). Observar o colisor <span
class="math inline">\(W\)</span> <em>abre</em> o caminho (fenômeno
“explaining away”).</li>
<li><strong>(v) <span class="math inline">\(M \perp\!\!\!\perp
B\)</span>:</strong> <strong>Verdadeiro.</strong> O caminho <span
class="math inline">\(M \rightarrow W \leftarrow P \rightarrow
B\)</span> está bloqueado pelo colisor <span
class="math inline">\(W\)</span>, que <em>não</em> é observado.</li>
<li><strong>(vi) <span class="math inline">\(M \perp\!\!\!\perp B \mid
P\)</span>:</strong> <strong>Verdadeiro.</strong> O caminho <span
class="math inline">\(M \rightarrow W \leftarrow P \rightarrow
B\)</span> está bloqueado por <span class="math inline">\(P\)</span>,
que é observado.</li>
<li><strong>(vii) <span class="math inline">\(M \perp\!\!\!\perp B \mid
W\)</span>:</strong> <strong>Falso.</strong> O caminho <span
class="math inline">\(M \rightarrow W \leftarrow P \rightarrow
B\)</span> é aberto pelo colisor <span class="math inline">\(W\)</span>
(que é observado) e o caminho continua aberto através de <span
class="math inline">\(P\)</span> (que não é observado).</li>
</ul>
<p><strong>e. Qual é a probabilidade marginal <span
class="math inline">\(P(+m, +b)\)</span>?</strong></p>
<p>Usamos a tabela da Figura S13.35, que lista a joint para <span
class="math inline">\(M=+m\)</span>. Somamos todas as linhas onde <span
class="math inline">\(M=+m\)</span> e <span
class="math inline">\(B=+b\)</span>: <span class="math display">\[P(+m,
+b) = \sum_{p, w} P(+m, p, w, +b)\]</span></p>
<ul>
<li><span class="math inline">\(P(+m, +p, +w, +b) = 0.0800\)</span></li>
<li><span class="math inline">\(P(+m, +p, -w, +b) = 0.0400\)</span></li>
<li><span class="math inline">\(P(+m, -p, +w, +b) = 0.0150\)</span></li>
<li><span class="math inline">\(P(+m, -p, -w, +b) = 0.1350\)</span></li>
</ul>
<p><span class="math display">\[P(+m, +b) = 0.0800 + 0.0400 + 0.0150 +
0.1350 = 0.2700\]</span></p>
<p><strong>Resposta:</strong> A probabilidade é
<strong>27%</strong>.</p>
<p><strong>f. Qual é a probabilidade condicional <span
class="math inline">\(P(+w \mid +m, +b)\)</span>?</strong></p>
<p>Usamos a definição de probabilidade condicional: <span
class="math display">\[P(+w \mid +m, +b) = \frac{P(+w, +m, +b)}{P(+m,
+b)}\]</span></p>
<ul>
<li><strong>Denominador:</strong> <span class="math inline">\(P(+m, +b)
= 0.2700\)</span> (calculado em (e)).</li>
<li><strong>Numerador:</strong> <span class="math inline">\(P(+w, +m,
+b) = \sum_p P(+m, p, +w, +b)\)</span>
<ul>
<li><span class="math inline">\(P(+m, +p, +w, +b) = 0.0800\)</span></li>
<li><span class="math inline">\(P(+m, -p, +w, +b) = 0.0150\)</span></li>
<li><span class="math inline">\(P(+w, +m, +b) = 0.0800 + 0.0150 =
0.0950\)</span></li>
</ul></li>
</ul>
<p><span class="math display">\[P(+w \mid +m, +b) =
\frac{0.0950}{0.2700} \approx 0.35185\]</span></p>
<strong>Resposta:</strong> A probabilidade de vencer é de
aproximadamente <strong>35.19%</strong>.
</details>
<h2 id="questões-21-à-23-teoria-da-decisão-bayesiana">Questões 21 à 23:
Teoria da Decisão Bayesiana</h2>
<h3 id="questão-21">Questão 21</h3>
<p>Considere novamente a <strong>Questão 20</strong>. A utilidade de
Pacman é <strong>+10 por vencer</strong> uma luta, <strong>-5 por
perder</strong> uma luta, e <strong>-1 por fugir</strong> de uma luta.
Pacman quer maximizar sua utilidade esperada. Dado que ele tem hálito
ruim e está enfrentando um fantasma malvado, ele deve ficar e lutar, ou
fugir? Justifique sua resposta numericamente.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p>Devemos comparar a utilidade esperada (EU) de lutar com a utilidade
de fugir, dadas as observações <span class="math inline">\(\textbf{e} =
(+m, +b)\)</span>.</p>
<ul>
<li><strong>Utilidade (Fugir):</strong>
<ul>
<li>A utilidade de fugir é certa.</li>
<li><span class="math inline">\(EU(\text{Fugir} \mid \textbf{e}) =
U(\text{Fugir}) = \mathbf{-1.0}\)</span></li>
</ul></li>
<li><strong>Utilidade (Lutar):</strong>
<ul>
<li><span class="math inline">\(EU(\text{Lutar} \mid \textbf{e}) = P(+w
\mid \textbf{e}) \times U(\text{Vencer}) + P(-w \mid \textbf{e}) \times
U(\text{Perder})\)</span></li>
<li><span class="math inline">\(P(+w \mid \textbf{e}) = P(+w \mid +m,
+b) \approx 0.3519\)</span> (de (f))</li>
<li><span class="math inline">\(P(-w \mid \textbf{e}) = 1 - P(+w \mid
\textbf{e}) \approx 1 - 0.3519 = 0.6481\)</span></li>
<li><span class="math inline">\(EU(\text{Lutar} \mid \textbf{e}) =
(0.3519 \times 10) + (0.6481 \times -5)\)</span></li>
<li><span class="math inline">\(EU(\text{Lutar} \mid \textbf{e}) = 3.519
- 3.2405\)</span></li>
<li><span class="math inline">\(EU(\text{Lutar} \mid \textbf{e}) \approx
\mathbf{+0.2785}\)</span></li>
</ul></li>
</ul>
<strong>Resposta:</strong> Pacman deve <strong>ficar e lutar</strong>. A
utilidade esperada de lutar (<span class="math inline">\(+0.28\)</span>)
é maior que a utilidade de fugir (<span
class="math inline">\(-1.0\)</span>).
</details>
<h3 id="questão-22">Questão 22</h3>
<p>Bilhetes para uma loteria custam $1. Há dois prêmios possíveis: um
pagamento de $10 com probabilidade 1/50, e um pagamento de $1.000.000
com probabilidade 1/2.000.000. Qual é o valor monetário esperado (EMV)
de um bilhete de loteria? Quando (se alguma vez) é racional comprar um
bilhete? Seja preciso — mostre uma equação envolvendo utilidades. Você
pode assumir uma riqueza atual <span class="math inline">\(k\)</span> e
que <span class="math inline">\(U(S_k)=0\)</span>. Você pode também
assumir que <span class="math inline">\(U(S_{k+10}) = 10 \times
U(S_{k+1})\)</span>, mas não pode fazer nenhuma suposição sobre <span
class="math inline">\(U(S_{k+1.000.000})\)</span>. Estudos sociológicos
mostram que pessoas com renda mais baixa compram um número
desproporcional de bilhetes de loteria. Você acha que isso ocorre porque
elas são piores tomadoras de decisão ou porque têm uma função de
utilidade diferente? Considere o valor de contemplar a possibilidade de
ganhar na loteria versus o valor de contemplar “se tornar um herói de
ação enquanto assiste a um filme de aventura”.</p>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<p><strong>1. Valor Monetário Esperado (EMV)</strong></p>
<p>O EMV (Expected Monetary Value) é a soma dos valores de cada
resultado multiplicados por suas respectivas probabilidades. O custo do
bilhete é $1. Os ganhos são $10 (com <span
class="math inline">\(P=1/50\)</span>) e $1.000.000 (com <span
class="math inline">\(P=1/2.000.000\)</span>).</p>
<ul>
<li><span class="math inline">\(EMV(\text{Prêmios}) = P(\text{Prêmio}_1)
\times \text{Valor}_1 + P(\text{Prêmio}_2) \times
\text{Valor}_2\)</span></li>
<li><span class="math inline">\(EMV(\text{Prêmios}) = (1/50) \times \$10
+ (1/2.000.000) \times \$1.000.000\)</span></li>
<li><span class="math inline">\(EMV(\text{Prêmios}) = \$0.20 + \$0.50 =
\$0.70\)</span></li>
</ul>
<p>O valor monetário esperado líquido do bilhete é o EMV dos prêmios
menos o custo: * <span class="math inline">\(EMV(\text{Bilhete}) =
\$0.70 - \$1.00 = \mathbf{-\$0.30}\)</span></p>
<p><strong>2. Quando é Racional comprar (Equação de
Utilidade)?</strong></p>
<p>Um agente racional (Maximizador da Utilidade Esperada) deve comprar o
bilhete se a utilidade esperada de comprar for maior que a utilidade de
não comprar.</p>
<ul>
<li>Riqueza Inicial: <span class="math inline">\(k\)</span></li>
<li>Probabilidade de Perder: <span
class="math inline">\(P(\text{Perder}) = 1 - (1/50) - (1/2.000.000) =
0.9799995\)</span></li>
<li>Estado de riqueza se Perder: <span
class="math inline">\(S_{k-1}\)</span></li>
<li>Estado de riqueza se Ganhar $10: <span
class="math inline">\(S_{k+9}\)</span> (pois gastou $1)</li>
<li>Estado de riqueza se Ganhar $1M: <span
class="math inline">\(S_{k+999.999}\)</span> (pois gastou $1)</li>
</ul>
<p><strong>Utilidade de Não Comprar:</strong><br />
* <span class="math inline">\(EU(\text{Não Comprar}) = U(S_k) =
\mathbf{0}\)</span> (Conforme assumido na questão)</p>
<p><strong>Utilidade Esperada de Comprar:</strong><br />
* <span class="math inline">\(EU(\text{Comprar}) = P(\text{Perder})
\times U(S_{k-1}) + P(\$10) \times U(S_{k+9}) + P(\$1M) \times
U(S_{k+999.999})\)</span></p>
<p>É racional comprar se <span class="math inline">\(EU(\text{Comprar})
&gt; EU(\text{Não Comprar})\)</span>, ou seja, se: * <span
class="math inline">\((0.9799995) \cdot U(S_{k-1}) + (1/50) \cdot
U(S_{k+9}) + (1/2.000.000) \cdot U(S_{k+999.999}) &gt; 0\)</span></p>
<p>Então, a compra é racional se:<br />
* <span class="math inline">\((0.9799995) \cdot (-u_1) + (0.02) \cdot (9
u_1) + (0.0000005) \cdot U(S_{k+999.999}) &gt; 0\)</span></p>
<p>Combinando os termos:<br />
* <span class="math inline">\(-0.9799995 \cdot u_1 + 0.18 \cdot u_1 +
(0.0000005) \cdot U(S_{k+999.999}) &gt; 0\)</span> * <span
class="math inline">\(-0.7999995 \cdot u_1 + (0.0000005) \cdot
U(S_{k+999.999}) &gt; 0\)</span></p>
<p>Isolando <span class="math inline">\(U(S_{k+999.999})\)</span>: *
<span class="math inline">\((0.0000005) \cdot U(S_{k+999.999}) &gt;
0.7999995 \cdot u_1\)</span> * <span
class="math inline">\(U(S_{k+999.999}) &gt; \frac{0.7999995}{0.0000005}
\cdot u_1\)</span> * <span class="math inline">\(U(S_{k+999.999}) &gt;
1.599.999 \cdot u_1\)</span></p>
<p>Substituindo <span class="math inline">\(u_1 = U(S_{k+1})\)</span>,
obtemos que <strong>a compra do bilhete é racional se a utilidade de
ganhar $1 milhão for pelo menos 1.6 milhão de vezes maior do que a
utilidade de ganhar <span class="math inline">\(1\)</span></strong>:
<span class="math inline">\(U(S_{k+999.999}) &gt; 1.599.999 \times
U(S_{k+1})\)</span></p>
<p><strong>3. Análise Sociológica (Renda Baixa)</strong></p>
<p>O fato de pessoas de baixa renda comprarem mais bilhetes, apesar do
EMV negativo, <strong>não significa que sejam piores tomadores de
decisão</strong>. É mais provável que tenham uma <strong>função de
utilidade diferente</strong>.</p>
<ul>
<li><strong>Falha da TUE Padrão:</strong> A teoria da utilidade padrão
(que assume aversão ao risco, <span class="math inline">\(U(x) =
\log(x)\)</span> ou <span class="math inline">\(\sqrt{x}\)</span>) prevê
que pessoas de baixa renda deveriam ser <em>mais</em> avessas ao risco
e, portanto, <em>menos</em> propensas a jogar, pois a utilidade marginal
de $1 (o custo do bilhete) é muito alta para elas.</li>
<li><strong>A Utilidade do “Sonho”:</strong> A questão sugere a
resposta. O ato de comprar um bilhete de loteria não é apenas uma
transação financeira; é a compra de um “bem”. Esse bem é a
<strong>utilidade da contemplação</strong>.
<ul>
<li>Para uma pessoa com riqueza <span class="math inline">\(k\)</span>
muito baixa, a diferença entre <span class="math inline">\(U(k)\)</span>
e <span class="math inline">\(U(k+1.000.000)\)</span> não é apenas uma
mudança de quantidade; é uma mudança de <em>categoria</em> de vida (sair
da pobreza, quitar dívidas, segurança). A utilidade desse resultado pode
ser percebida como quase “infinita”, quebrando a linearidade da
TUE.</li>
<li>Assim como se paga por um ingresso de cinema para “contemplar se
tornar um herói de ação”, paga-se $1 pela utilidade de “contemplar a
possibilidade de ganhar” por alguns dias. A despesa de $1 é um custo de
entretenimento aceitável para o benefício psicológico da esperança.</li>
</ul></li>
</ul>
</details>
<h3 id="questão-23">Questão 23</h3>
<p>Um comprador de carro usado pode decidir realizar vários testes com
vários custos (ex: verificar os pneus, levar o carro a um mecânico
qualificado etc.) e então, dependendo do resultado dos testes, decidir
qual carro comprar. Vamos assumir que o comprador está decidindo se
compra o carro <span class="math inline">\(c_1\)</span> e que só há
tempo para realizar no máximo um teste (<span
class="math inline">\(t_1\)</span>), que é o teste de <span
class="math inline">\(c_1\)</span>, que custa $50.</p>
<p>Um carro pode estar em bom estado (<span
class="math inline">\(q^+\)</span>) ou mau estado (<span
class="math inline">\(q^-\)</span>) e os testes podem ajudar a indicar
em que estado o carro está. O carro <span
class="math inline">\(c_1\)</span> custa $1.500, e seu valor de mercado
é $2.000 se <span class="math inline">\(q^+\)</span> (ou seja, bse
estiver em bom estado); se <span class="math inline">\(q^-\)</span>,
$700 em reparos serão necessários (Valor = $1.300). A estimativa do
comprador é que <span class="math inline">\(c_1\)</span> tem <span
class="math inline">\(70%\)</span> de chance de estar em bom estado:
<span class="math inline">\(P(q^+) = 0.7\)</span>.</p>
<ol type="1">
<li>Desenhe a rede de decisão.</li>
<li>Calcule o ganho líquido esperado de comprar <span
class="math inline">\(c_1\)</span>, sem teste.</li>
<li>Os testes podem ser descritos pela probabilidade de o carro passar
ou falhar no teste, dado que o carro está em bom ou mau estado. Temos a
seguinte informação:<br />
<span class="math inline">\(P(pass | q^+) = 0.8\)</span>,<br />
<span class="math inline">\(P(pass | q^-) = 0.35\)</span>. Use o teorema
de Bayes para calcular a probabilidade de que o carro passará (ou
falhará) no teste e, consequentemente, a probabilidade de que ele esteja
em bom (ou mau) estado, dado cada resultado possível do teste.</li>
<li>Calcule as decisões ótimas (comprar/não comprar) dado um
<em>pass</em> ou <em>fail</em>, e suas utilidades esperadas.</li>
<li>Baseando-se nesses resultados, derive um plano condicional ótimo
para o comprador.</li>
</ol>
<details class="solucao">
<summary>
SOLUÇÃO
</summary>
<ol type="1">
<li><strong>Rede de Decisão (Simplificada):</strong>
<ul>
<li><span class="math inline">\(D_{Test}\)</span> (Decisão: Testar ou
Não)</li>
<li><span class="math inline">\(R_{Test}\)</span> (Acaso: Pass ou Fail)
<span class="math inline">\(\leftarrow\)</span> <span
class="math inline">\(Q\)</span> (Acaso: <span
class="math inline">\(q^+\)</span> ou <span
class="math inline">\(q^-\)</span>)</li>
<li><span class="math inline">\(D_{Buy}\)</span> (Decisão: Comprar ou
Não) <span class="math inline">\(\leftarrow\)</span> <span
class="math inline">\(R_{Test}\)</span></li>
<li><span class="math inline">\(U\)</span> (Utilidade) <span
class="math inline">\(\leftarrow\)</span> <span
class="math inline">\(Q\)</span>, <span
class="math inline">\(D_{Buy}\)</span>, <span
class="math inline">\(D_{Test}\)</span></li>
</ul></li>
</ol>
<figure>
<img src="figures/td23.png" alt="Figura td23" style="max-width: 100%; width: 20%; height: auto;" />
</figure>
<ol start="2" type="1">
<li><strong>EU(Comprar | Sem Teste):</strong>
<ul>
<li><span class="math inline">\(EU(\text{Comprar}) = P(q^+)
U(\text{Comprar}, q^+) + P(q^-) U(\text{Comprar}, q^-)\)</span></li>
<li><span class="math inline">\(U(\text{Comprar}, q^+) = \text{Valor} -
\text{Custo} = 2000 - 1500 = +500\)</span></li>
<li><span class="math inline">\(U(\text{Comprar}, q^-) = \text{Valor} -
\text{Custo} = (2000-700) - 1500 = 1300 - 1500 = -200\)</span></li>
<li><span class="math inline">\(EU(\text{Comprar}) = (0.7)(500) +
(0.3)(-200) = 350 - 60 = +\$290\)</span></li>
<li><span class="math inline">\(EU(\text{Não Comprar}) =
0\)</span>.</li>
<li><strong>Decisão (Sem Teste):</strong> Comprar (MEU = $290).</li>
</ul></li>
<li><strong>Cálculo (Bayes):</strong>
<ul>
<li><span class="math inline">\(P(q^+) = 0.7, P(q^-) = 0.3\)</span></li>
<li><span class="math inline">\(P(pass) = P(pass|q^+)P(q^+) +
P(pass|q^-)P(q^-) = (0.8)(0.7) + (0.35)(0.3) = 0.56 + 0.105 =
0.665\)</span></li>
<li><span class="math inline">\(P(fail) = 1 - 0.665 =
0.335\)</span></li>
<li><strong><span class="math inline">\(P(q^+ | pass)\)</span></strong>
= <span class="math inline">\(\frac{P(pass|q^+)P(q^+)}{P(pass)} =
\frac{(0.8)(0.7)}{0.665} = \frac{0.56}{0.665} \approx
\mathbf{0.842}\)</span></li>
<li><strong><span class="math inline">\(P(q^+ | fail)\)</span></strong>
= <span class="math inline">\(\frac{P(fail|q^+)P(q^+)}{P(fail)} =
\frac{(1-0.8)(0.7)}{0.335} = \frac{0.14}{0.335} \approx
\mathbf{0.418}\)</span></li>
</ul></li>
<li><strong>Decisões Ótimas (Após Teste):</strong> (Lembre-se que o
teste custa $50)
<ul>
<li><strong>Dado Pass:</strong> ( <span
class="math inline">\(P(q^+|pass)=0.842, P(q^-|pass)=0.158\)</span> )
<ul>
<li><span class="math inline">\(EU(\text{Comprar}) = (0.842)(500) +
(0.158)(-200) = 421 - 31.6 = +389.4\)</span></li>
<li><span class="math inline">\(EU(\text{Não Comprar}) = 0\)</span></li>
<li><em>Decisão (Pass):</em> <strong>Comprar</strong> (EU = 389.4)</li>
</ul></li>
<li><strong>Dado Fail:</strong> ( <span
class="math inline">\(P(q^+|fail)=0.418, P(q^-|fail)=0.582\)</span> )
<ul>
<li><span class="math inline">\(EU(\text{Comprar}) = (0.418)(500) +
(0.582)(-200) = 209 - 116.4 = +92.6\)</span></li>
<li><span class="math inline">\(EU(\text{Não Comprar}) = 0\)</span></li>
<li><em>Decisão (Fail):</em> <strong>Comprar</strong> (EU = 92.6)</li>
</ul></li>
<li>Ou seja, <strong>passando ou não passando no teste, deve-se comprar
o carro!</strong></li>
</ul></li>
<li><strong>Plano ótimo:</strong>
<ul>
<li>Como o teste não muda a decisão, o plano ótimo é <strong>não testar,
apenas comprar</strong> (<span class="math inline">\(MEU = \$290
\implies VPI=0\)</span>).</li>
<li>Para que o teste valesse a pena, ele precisaria ser mais
discriminatório, a fim de reduzir a probabilidade <span
class="math inline">\(P(q^+|fail)\)</span>.</li>
<li>O teste também valeria a pena se o valor de mercado do carro fosse
menor, ou se o custo dos reparos fosse maior.</li>
</ul></li>
</ol>
</details>
</body>
</html>
